/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/js/interactive/SelectionBox.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
console.warn("THREE.SelectionBox: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/index.html#manual/en/introduction/Import-via-modules."),THREE.SelectionBox=function(){var t=new THREE.Frustum,e=new THREE.Vector3,o=new THREE.Vector3,r=new THREE.Vector3,n=new THREE.Vector3,i=new THREE.Vector3,a=new THREE.Vector3,s=new THREE.Vector3,c=new THREE.Vector3,l=new THREE.Vector3,m=new THREE.Vector3,h=new THREE.Vector3,p=new THREE.Vector3,u=new THREE.Vector3,d=new THREE.Vector3;function E(t,e,o){this.camera=t,this.scene=e,this.startPoint=new THREE.Vector3,this.endPoint=new THREE.Vector3,this.collection=[],this.deep=o||Number.MAX_VALUE}return E.prototype.select=function(e,o){return this.startPoint=e||this.startPoint,this.endPoint=o||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(t,this.scene),this.collection},E.prototype.updateFrustum=function(e,E){if(e=e||this.startPoint,E=E||this.endPoint,e.x===E.x&&(E.x+=Number.EPSILON),e.y===E.y&&(E.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera)o.copy(e),o.x=Math.min(e.x,E.x),o.y=Math.max(e.y,E.y),E.x=Math.max(e.x,E.x),E.y=Math.min(e.y,E.y),r.setFromMatrixPosition(this.camera.matrixWorld),n.copy(o),i.set(E.x,o.y,0),a.copy(E),s.set(o.x,E.y,0),n.unproject(this.camera),i.unproject(this.camera),a.unproject(this.camera),s.unproject(this.camera),p.copy(n).sub(r),u.copy(i).sub(r),d.copy(a).sub(r),p.normalize(),u.normalize(),d.normalize(),p.multiplyScalar(this.deep),u.multiplyScalar(this.deep),d.multiplyScalar(this.deep),p.add(r),u.add(r),d.add(r),(y=t.planes)[0].setFromCoplanarPoints(r,n,i),y[1].setFromCoplanarPoints(r,i,a),y[2].setFromCoplanarPoints(a,s,r),y[3].setFromCoplanarPoints(s,n,r),y[4].setFromCoplanarPoints(i,a,s),y[5].setFromCoplanarPoints(d,u,p),y[5].normal.multiplyScalar(-1);else if(this.camera.isOrthographicCamera){var y,x=Math.min(e.x,E.x),P=Math.max(e.y,E.y),w=Math.max(e.x,E.x),H=Math.min(e.y,E.y);n.set(x,P,-1),i.set(w,P,-1),a.set(w,H,-1),s.set(x,H,-1),c.set(x,P,1),l.set(w,P,1),m.set(w,H,1),h.set(x,H,1),n.unproject(this.camera),i.unproject(this.camera),a.unproject(this.camera),s.unproject(this.camera),c.unproject(this.camera),l.unproject(this.camera),m.unproject(this.camera),h.unproject(this.camera),(y=t.planes)[0].setFromCoplanarPoints(n,c,l),y[1].setFromCoplanarPoints(i,l,m),y[2].setFromCoplanarPoints(m,h,s),y[3].setFromCoplanarPoints(h,c,n),y[4].setFromCoplanarPoints(i,a,s),y[5].setFromCoplanarPoints(m,l,c),y[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")},E.prototype.searchChildInFrustum=function(t,o){if((o.isMesh||o.isLine||o.isPoints)&&void 0!==o.material&&(null===o.geometry.boundingSphere&&o.geometry.computeBoundingSphere(),e.copy(o.geometry.boundingSphere.center),e.applyMatrix4(o.matrixWorld),t.containsPoint(e)&&this.collection.push(o)),o.children.length>0)for(var r=0;r<o.children.length;r++)this.searchChildInFrustum(t,o.children[r])},E}();
//# sourceMappingURL=/sm/dead46250be2248cd5f607b24dbe0ec4dd0fb5db925ec8dc12abbc94fe72ab6c.map