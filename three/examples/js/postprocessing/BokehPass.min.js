/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/js/postprocessing/BokehPass.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
console.warn("THREE.BokehPass: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/index.html#manual/en/introduction/Import-via-modules."),THREE.BokehPass=function(e,r,a){THREE.Pass.call(this),this.scene=e,this.camera=r;var t=void 0!==a.focus?a.focus:1,s=void 0!==a.aspect?a.aspect:r.aspect,i=void 0!==a.aperture?a.aperture:.025,n=void 0!==a.maxblur?a.maxblur:1,o=a.width||window.innerWidth||1,l=a.height||window.innerHeight||1;this.renderTargetDepth=new THREE.WebGLRenderTarget(o,l,{minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,stencilBuffer:!1}),this.renderTargetDepth.texture.name="BokehPass.depth",this.materialDepth=new THREE.MeshDepthMaterial,this.materialDepth.depthPacking=THREE.RGBADepthPacking,this.materialDepth.blending=THREE.NoBlending,void 0===THREE.BokehShader&&console.error("THREE.BokehPass relies on THREE.BokehShader");var h=THREE.BokehShader,d=THREE.UniformsUtils.clone(h.uniforms);d.tDepth.value=this.renderTargetDepth.texture,d.focus.value=t,d.aspect.value=s,d.aperture.value=i,d.maxblur.value=n,d.nearClip.value=r.near,d.farClip.value=r.far,this.materialBokeh=new THREE.ShaderMaterial({defines:Object.assign({},h.defines),uniforms:d,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}),this.uniforms=d,this.needsSwap=!1,this.fsQuad=new THREE.Pass.FullScreenQuad(this.materialBokeh),this.oldClearColor=new THREE.Color},THREE.BokehPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.BokehPass,render:function(e,r,a){this.scene.overrideMaterial=this.materialDepth,this.oldClearColor.copy(e.getClearColor());var t=e.getClearAlpha(),s=e.autoClear;e.autoClear=!1,e.setClearColor(16777215),e.setClearAlpha(1),e.setRenderTarget(this.renderTargetDepth),e.clear(),e.render(this.scene,this.camera),this.uniforms.tColor.value=a.texture,this.uniforms.nearClip.value=this.camera.near,this.uniforms.farClip.value=this.camera.far,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),e.clear(),this.fsQuad.render(e)),this.scene.overrideMaterial=null,e.setClearColor(this.oldClearColor),e.setClearAlpha(t),e.autoClear=s}});
//# sourceMappingURL=/sm/5e8cce3f0bef257b506c46361ce01ce4ea7b96fa6306ae5382afab8f855ee865.map