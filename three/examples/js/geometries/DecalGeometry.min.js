/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/js/geometries/DecalGeometry.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
console.warn("THREE.DecalGeometry: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/index.html#manual/en/introduction/Import-via-modules."),THREE.DecalGeometry=function(t,e,o,r){THREE.BufferGeometry.call(this);var n=[],i=[],s=[],a=new THREE.Vector3,u=new THREE.Matrix4;u.makeRotationFromEuler(o),u.setPosition(e);var p=(new THREE.Matrix4).getInverse(u);function l(e,o,r){o.applyMatrix4(t.matrixWorld),o.applyMatrix4(p),r.transformDirection(t.matrixWorld),e.push(new THREE.DecalVertex(o.clone(),r.clone()))}function c(t,e){for(var o=[],n=.5*Math.abs(r.dot(e)),i=0;i<t.length;i+=3){var s,a,u,p,l,c,E;switch(((s=t[i+0].position.dot(e)-n>0)?1:0)+((a=t[i+1].position.dot(e)-n>0)?1:0)+((u=t[i+2].position.dot(e)-n>0)?1:0)){case 0:o.push(t[i]),o.push(t[i+1]),o.push(t[i+2]);break;case 1:if(s&&(p=t[i+1],l=t[i+2],c=m(t[i],p,e,n),E=m(t[i],l,e,n)),a){p=t[i],l=t[i+2],c=m(t[i+1],p,e,n),E=m(t[i+1],l,e,n),o.push(c),o.push(l.clone()),o.push(p.clone()),o.push(l.clone()),o.push(c.clone()),o.push(E);break}u&&(p=t[i],l=t[i+1],c=m(t[i+2],p,e,n),E=m(t[i+2],l,e,n)),o.push(p.clone()),o.push(l.clone()),o.push(c),o.push(E),o.push(c.clone()),o.push(l.clone());break;case 2:s||(l=m(p=t[i].clone(),t[i+1],e,n),c=m(p,t[i+2],e,n),o.push(p),o.push(l),o.push(c)),a||(l=m(p=t[i+1].clone(),t[i+2],e,n),c=m(p,t[i],e,n),o.push(p),o.push(l),o.push(c)),u||(l=m(p=t[i+2].clone(),t[i],e,n),c=m(p,t[i+1],e,n),o.push(p),o.push(l),o.push(c))}}return o}function m(t,e,o,r){var n=t.position.dot(o)-r,i=n/(n-(e.position.dot(o)-r));return new THREE.DecalVertex(new THREE.Vector3(t.position.x+i*(e.position.x-t.position.x),t.position.y+i*(e.position.y-t.position.y),t.position.z+i*(e.position.z-t.position.z)),new THREE.Vector3(t.normal.x+i*(e.normal.x-t.normal.x),t.normal.y+i*(e.normal.y-t.normal.y),t.normal.z+i*(e.normal.z-t.normal.z)))}!function(){var e,o=new THREE.BufferGeometry,p=[],m=new THREE.Vector3,E=new THREE.Vector3;t.geometry.isGeometry?o.fromGeometry(t.geometry):o.copy(t.geometry);var h=o.attributes.position,f=o.attributes.normal;if(null!==o.index){var y=o.index;for(e=0;e<y.count;e++)m.fromBufferAttribute(h,y.getX(e)),E.fromBufferAttribute(f,y.getX(e)),l(p,m,E)}else for(e=0;e<h.count;e++)m.fromBufferAttribute(h,e),E.fromBufferAttribute(f,e),l(p,m,E);for(p=c(p,a.set(1,0,0)),p=c(p,a.set(-1,0,0)),p=c(p,a.set(0,1,0)),p=c(p,a.set(0,-1,0)),p=c(p,a.set(0,0,1)),p=c(p,a.set(0,0,-1)),e=0;e<p.length;e++){var x=p[e];s.push(.5+x.position.x/r.x,.5+x.position.y/r.y),x.position.applyMatrix4(u),n.push(x.position.x,x.position.y,x.position.z),i.push(x.normal.x,x.normal.y,x.normal.z)}}(),this.setAttribute("position",new THREE.Float32BufferAttribute(n,3)),this.setAttribute("normal",new THREE.Float32BufferAttribute(i,3)),this.setAttribute("uv",new THREE.Float32BufferAttribute(s,2))},THREE.DecalGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.DecalGeometry.prototype.constructor=THREE.DecalGeometry,THREE.DecalVertex=function(t,e){this.position=t,this.normal=e},THREE.DecalVertex.prototype.clone=function(){return new this.constructor(this.position.clone(),this.normal.clone())};
//# sourceMappingURL=/sm/cb86221ac0d93d074f0d3e259e87f4ccaaba1b5051a22f99440b1ee04a17e83c.map