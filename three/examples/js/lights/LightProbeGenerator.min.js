/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/js/lights/LightProbeGenerator.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
console.warn("THREE.LightProbeGenerator: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/index.html#manual/en/introduction/Import-via-modules."),THREE.LightProbeGenerator={fromCubeTexture:function(e){for(var r,t,a,o=0,n=new THREE.Vector3,i=new THREE.Vector3,s=new THREE.Color,c=[0,0,0,0,0,0,0,0,0],E=new THREE.SphericalHarmonics3,h=E.coefficients,l=0;l<6;l++){var d=e.image[l],g=d.width,b=d.height,f=document.createElement("canvas");f.width=g,f.height=b;var T=f.getContext("2d");T.drawImage(d,0,0,g,b);for(var u=T.getImageData(0,0,g,b),w=u.data,R=u.width,m=2/R,v=0,H=w.length;v<H;v+=4){s.setRGB(w[v]/255,w[v+1]/255,w[v+2]/255),convertColorToLinear(s,e.encoding);var p=v/4,k=(p%R+.5)*m-1,L=1-(Math.floor(p/R)+.5)*m;switch(l){case 0:n.set(-1,L,-k);break;case 1:n.set(1,L,k);break;case 2:n.set(-k,1,-L);break;case 3:n.set(-k,-1,L);break;case 4:n.set(-k,L,1);break;case 5:n.set(k,L,-1)}t=n.lengthSq(),o+=a=4/(Math.sqrt(t)*t),i.copy(n).normalize(),THREE.SphericalHarmonics3.getBasisAt(i,c);for(var x=0;x<9;x++)h[x].x+=c[x]*s.r*a,h[x].y+=c[x]*s.g*a,h[x].z+=c[x]*s.b*a}}r=4*Math.PI/o;for(x=0;x<9;x++)h[x].x*=r,h[x].y*=r,h[x].z*=r;return new THREE.LightProbe(E)},fromCubeRenderTarget:function(e,r){for(var t,a,o,n=0,i=new THREE.Vector3,s=new THREE.Vector3,c=new THREE.Color,E=[0,0,0,0,0,0,0,0,0],h=new THREE.SphericalHarmonics3,l=h.coefficients,d=0;d<6;d++){var g=r.width,b=new Uint8Array(g*g*4);e.readRenderTargetPixels(r,0,0,g,g,b,d);for(var f=2/g,T=0,u=b.length;T<u;T+=4){c.setRGB(b[T]/255,b[T+1]/255,b[T+2]/255),convertColorToLinear(c,r.texture.encoding);var w=T/4,R=(w%g+.5)*f-1,m=1-(Math.floor(w/g)+.5)*f;switch(d){case 0:i.set(1,m,-R);break;case 1:i.set(-1,m,R);break;case 2:i.set(R,1,-m);break;case 3:i.set(R,-1,m);break;case 4:i.set(R,m,1);break;case 5:i.set(-R,m,-1)}a=i.lengthSq(),n+=o=4/(Math.sqrt(a)*a),s.copy(i).normalize(),THREE.SphericalHarmonics3.getBasisAt(s,E);for(var v=0;v<9;v++)l[v].x+=E[v]*c.r*o,l[v].y+=E[v]*c.g*o,l[v].z+=E[v]*c.b*o}}t=4*Math.PI/n;for(v=0;v<9;v++)l[v].x*=t,l[v].y*=t,l[v].z*=t;return new THREE.LightProbe(h)}};var convertColorToLinear=function(e,r){switch(r){case THREE.sRGBEncoding:e.convertSRGBToLinear();break;case THREE.LinearEncoding:break;default:console.warn("WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported encoding.")}return e};
//# sourceMappingURL=/sm/2552609ddfbaf7ec591a07074f309c4dee5894fa3d50b2d6a8c029b972e4adb8.map