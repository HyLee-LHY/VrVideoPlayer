/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/js/controls/TrackballControls.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
console.warn("THREE.TrackballControls: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/index.html#manual/en/introduction/Import-via-modules."),THREE.TrackballControls=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var o=this,n={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:THREE.MOUSE.ROTATE,MIDDLE:THREE.MOUSE.ZOOM,RIGHT:THREE.MOUSE.PAN},this.target=new THREE.Vector3;var a=new THREE.Vector3,c=1,s=n.NONE,i=n.NONE,r=new THREE.Vector3,p=new THREE.Vector2,d=new THREE.Vector2,h=new THREE.Vector3,m=0,E=new THREE.Vector2,u=new THREE.Vector2,l=0,g=0,b=new THREE.Vector2,y=new THREE.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var v={type:"change"},T={type:"start"},w={type:"end"};this.handleResize=function(){var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height};var O,f,j,R,H,k,N,L,C,M,A,D=(O=new THREE.Vector2,function(e,t){return O.set((e-o.screen.left)/o.screen.width,(t-o.screen.top)/o.screen.height),O}),P=function(){var e=new THREE.Vector2;return function(t,n){return e.set((t-.5*o.screen.width-o.screen.left)/(.5*o.screen.width),(o.screen.height+2*(o.screen.top-n))/o.screen.width),e}}();function V(e){!1!==o.enabled&&(window.removeEventListener("keydown",V),i===n.NONE&&(e.keyCode!==o.keys[n.ROTATE]||o.noRotate?e.keyCode!==o.keys[n.ZOOM]||o.noZoom?e.keyCode!==o.keys[n.PAN]||o.noPan||(i=n.PAN):i=n.ZOOM:i=n.ROTATE))}function Y(){!1!==o.enabled&&(i=n.NONE,window.addEventListener("keydown",V,!1))}function z(e){if(!1!==o.enabled){if(e.preventDefault(),e.stopPropagation(),s===n.NONE)switch(e.button){case o.mouseButtons.LEFT:s=n.ROTATE;break;case o.mouseButtons.MIDDLE:s=n.ZOOM;break;case o.mouseButtons.RIGHT:s=n.PAN;break;default:s=n.NONE}var t=i!==n.NONE?i:s;t!==n.ROTATE||o.noRotate?t!==n.ZOOM||o.noZoom?t!==n.PAN||o.noPan||(b.copy(D(e.pageX,e.pageY)),y.copy(b)):(E.copy(D(e.pageX,e.pageY)),u.copy(E)):(d.copy(P(e.pageX,e.pageY)),p.copy(d)),document.addEventListener("mousemove",S,!1),document.addEventListener("mouseup",x,!1),o.dispatchEvent(T)}}function S(e){if(!1!==o.enabled){e.preventDefault(),e.stopPropagation();var t=i!==n.NONE?i:s;t!==n.ROTATE||o.noRotate?t!==n.ZOOM||o.noZoom?t!==n.PAN||o.noPan||y.copy(D(e.pageX,e.pageY)):u.copy(D(e.pageX,e.pageY)):(p.copy(d),d.copy(P(e.pageX,e.pageY)))}}function x(e){!1!==o.enabled&&(e.preventDefault(),e.stopPropagation(),s=n.NONE,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",x),o.dispatchEvent(w))}function X(e){if(!1!==o.enabled&&!0!==o.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:E.y-=.025*e.deltaY;break;case 1:E.y-=.01*e.deltaY;break;default:E.y-=25e-5*e.deltaY}o.dispatchEvent(T),o.dispatchEvent(w)}}function Z(e){if(!1!==o.enabled){switch(e.preventDefault(),e.touches.length){case 1:s=n.TOUCH_ROTATE,d.copy(P(e.touches[0].pageX,e.touches[0].pageY)),p.copy(d);break;default:s=n.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY;g=l=Math.sqrt(t*t+a*a);var c=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;b.copy(D(c,i)),y.copy(b)}o.dispatchEvent(T)}}function U(e){if(!1!==o.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:p.copy(d),d.copy(P(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;g=Math.sqrt(t*t+n*n);var a=(e.touches[0].pageX+e.touches[1].pageX)/2,c=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(D(a,c))}}function _(e){if(!1!==o.enabled){switch(e.touches.length){case 0:s=n.NONE;break;case 1:s=n.TOUCH_ROTATE,d.copy(P(e.touches[0].pageX,e.touches[0].pageY)),p.copy(d)}o.dispatchEvent(w)}}function q(e){!1!==o.enabled&&e.preventDefault()}this.rotateCamera=(j=new THREE.Vector3,R=new THREE.Quaternion,H=new THREE.Vector3,k=new THREE.Vector3,N=new THREE.Vector3,L=new THREE.Vector3,function(){L.set(d.x-p.x,d.y-p.y,0),(f=L.length())?(r.copy(o.object.position).sub(o.target),H.copy(r).normalize(),k.copy(o.object.up).normalize(),N.crossVectors(k,H).normalize(),k.setLength(d.y-p.y),N.setLength(d.x-p.x),L.copy(k.add(N)),j.crossVectors(L,r).normalize(),f*=o.rotateSpeed,R.setFromAxisAngle(j,f),r.applyQuaternion(R),o.object.up.applyQuaternion(R),h.copy(j),m=f):!o.staticMoving&&m&&(m*=Math.sqrt(1-o.dynamicDampingFactor),r.copy(o.object.position).sub(o.target),R.setFromAxisAngle(h,m),r.applyQuaternion(R),o.object.up.applyQuaternion(R)),p.copy(d)}),this.zoomCamera=function(){var e;s===n.TOUCH_ZOOM_PAN?(e=l/g,l=g,o.object.isPerspectiveCamera?r.multiplyScalar(e):o.object.isOrthographicCamera?(o.object.zoom*=e,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(u.y-E.y)*o.zoomSpeed)&&e>0&&(o.object.isPerspectiveCamera?r.multiplyScalar(e):o.object.isOrthographicCamera?(o.object.zoom/=e,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),o.staticMoving?E.copy(u):E.y+=(u.y-E.y)*this.dynamicDampingFactor)},this.panCamera=(C=new THREE.Vector2,M=new THREE.Vector3,A=new THREE.Vector3,function(){if(C.copy(y).sub(b),C.lengthSq()){if(o.object.isOrthographicCamera){var e=(o.object.right-o.object.left)/o.object.zoom/o.domElement.clientWidth,t=(o.object.top-o.object.bottom)/o.object.zoom/o.domElement.clientWidth;C.x*=e,C.y*=t}C.multiplyScalar(r.length()*o.panSpeed),A.copy(r).cross(o.object.up).setLength(C.x),A.add(M.copy(o.object.up).setLength(C.y)),o.object.position.add(A),o.target.add(A),o.staticMoving?b.copy(y):b.add(C.subVectors(y,b).multiplyScalar(o.dynamicDampingFactor))}}),this.checkDistances=function(){o.noZoom&&o.noPan||(r.lengthSq()>o.maxDistance*o.maxDistance&&(o.object.position.addVectors(o.target,r.setLength(o.maxDistance)),E.copy(u)),r.lengthSq()<o.minDistance*o.minDistance&&(o.object.position.addVectors(o.target,r.setLength(o.minDistance)),E.copy(u)))},this.update=function(){r.subVectors(o.object.position,o.target),o.noRotate||o.rotateCamera(),o.noZoom||o.zoomCamera(),o.noPan||o.panCamera(),o.object.position.addVectors(o.target,r),o.object.isPerspectiveCamera?(o.checkDistances(),o.object.lookAt(o.target),a.distanceToSquared(o.object.position)>1e-6&&(o.dispatchEvent(v),a.copy(o.object.position))):o.object.isOrthographicCamera?(o.object.lookAt(o.target),(a.distanceToSquared(o.object.position)>1e-6||c!==o.object.zoom)&&(o.dispatchEvent(v),a.copy(o.object.position),c=o.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){s=n.NONE,i=n.NONE,o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.up.copy(o.up0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),r.subVectors(o.object.position,o.target),o.object.lookAt(o.target),o.dispatchEvent(v),a.copy(o.object.position),c=o.object.zoom},this.dispose=function(){this.domElement.removeEventListener("contextmenu",q,!1),this.domElement.removeEventListener("mousedown",z,!1),this.domElement.removeEventListener("wheel",X,!1),this.domElement.removeEventListener("touchstart",Z,!1),this.domElement.removeEventListener("touchend",_,!1),this.domElement.removeEventListener("touchmove",U,!1),document.removeEventListener("mousemove",S,!1),document.removeEventListener("mouseup",x,!1),window.removeEventListener("keydown",V,!1),window.removeEventListener("keyup",Y,!1)},this.domElement.addEventListener("contextmenu",q,!1),this.domElement.addEventListener("mousedown",z,!1),this.domElement.addEventListener("wheel",X,!1),this.domElement.addEventListener("touchstart",Z,!1),this.domElement.addEventListener("touchend",_,!1),this.domElement.addEventListener("touchmove",U,!1),window.addEventListener("keydown",V,!1),window.addEventListener("keyup",Y,!1),this.handleResize(),this.update()},THREE.TrackballControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.TrackballControls.prototype.constructor=THREE.TrackballControls;
//# sourceMappingURL=/sm/05cb341fa1929b3d9e09d1b11bae4b58d8e2ec3f29082f7316fd3756c8d41825.map