/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/js/controls/FirstPersonControls.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
console.warn("THREE.FirstPersonControls: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/index.html#manual/en/introduction/Import-via-modules."),THREE.FirstPersonControls=function(e,t){void 0===t&&(console.warn('THREE.FirstPersonControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,this.enabled=!0,this.movementSpeed=1,this.lookSpeed=.005,this.lookVertical=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=1,this.constrainVertical=!1,this.verticalMin=0,this.verticalMax=Math.PI,this.mouseDragOn=!1,this.autoSpeedFactor=0,this.mouseX=0,this.mouseY=0,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.viewHalfX=0,this.viewHalfY=0;var i,s=0,o=0,a=new THREE.Vector3,n=new THREE.Spherical,h=new THREE.Vector3;function r(e){e.preventDefault()}this.domElement!==document&&this.domElement.setAttribute("tabindex",-1),this.handleResize=function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)},this.onMouseDown=function(e){if(this.domElement!==document&&this.domElement.focus(),e.preventDefault(),e.stopPropagation(),this.activeLook)switch(e.button){case 0:this.moveForward=!0;break;case 2:this.moveBackward=!0}this.mouseDragOn=!0},this.onMouseUp=function(e){if(e.preventDefault(),e.stopPropagation(),this.activeLook)switch(e.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1}this.mouseDragOn=!1},this.onMouseMove=function(e){this.domElement===document?(this.mouseX=e.pageX-this.viewHalfX,this.mouseY=e.pageY-this.viewHalfY):(this.mouseX=e.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=e.pageY-this.domElement.offsetTop-this.viewHalfY)},this.onKeyDown=function(e){switch(e.keyCode){case 38:case 87:this.moveForward=!0;break;case 37:case 65:this.moveLeft=!0;break;case 40:case 83:this.moveBackward=!0;break;case 39:case 68:this.moveRight=!0;break;case 82:this.moveUp=!0;break;case 70:this.moveDown=!0}},this.onKeyUp=function(e){switch(e.keyCode){case 38:case 87:this.moveForward=!1;break;case 37:case 65:this.moveLeft=!1;break;case 40:case 83:this.moveBackward=!1;break;case 39:case 68:this.moveRight=!1;break;case 82:this.moveUp=!1;break;case 70:this.moveDown=!1}},this.lookAt=function(e,t,i){return e.isVector3?h.copy(e):h.set(e,t,i),this.object.lookAt(h),w(this),this},this.update=(i=new THREE.Vector3,function(e){if(!1!==this.enabled){if(this.heightSpeed){var t=THREE.MathUtils.clamp(this.object.position.y,this.heightMin,this.heightMax)-this.heightMin;this.autoSpeedFactor=e*(t*this.heightCoef)}else this.autoSpeedFactor=0;var a=e*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(a+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(a),this.moveLeft&&this.object.translateX(-a),this.moveRight&&this.object.translateX(a),this.moveUp&&this.object.translateY(a),this.moveDown&&this.object.translateY(-a);var n=e*this.lookSpeed;this.activeLook||(n=0);var h=1;this.constrainVertical&&(h=Math.PI/(this.verticalMax-this.verticalMin)),o-=this.mouseX*n,this.lookVertical&&(s-=this.mouseY*n*h),s=Math.max(-85,Math.min(85,s));var r=THREE.MathUtils.degToRad(90-s),m=THREE.MathUtils.degToRad(o);this.constrainVertical&&(r=THREE.MathUtils.mapLinear(r,0,Math.PI,this.verticalMin,this.verticalMax));var c=this.object.position;i.setFromSphericalCoords(1,r,m).add(c),this.object.lookAt(i)}}),this.dispose=function(){this.domElement.removeEventListener("contextmenu",r,!1),this.domElement.removeEventListener("mousedown",c,!1),this.domElement.removeEventListener("mousemove",m,!1),this.domElement.removeEventListener("mouseup",d,!1),window.removeEventListener("keydown",l,!1),window.removeEventListener("keyup",v,!1)};var m=u(this,this.onMouseMove),c=u(this,this.onMouseDown),d=u(this,this.onMouseUp),l=u(this,this.onKeyDown),v=u(this,this.onKeyUp);function u(e,t){return function(){t.apply(e,arguments)}}function w(e){var t=e.object.quaternion;a.set(0,0,-1).applyQuaternion(t),n.setFromVector3(a),s=90-THREE.MathUtils.radToDeg(n.phi),o=THREE.MathUtils.radToDeg(n.theta)}this.domElement.addEventListener("contextmenu",r,!1),this.domElement.addEventListener("mousemove",m,!1),this.domElement.addEventListener("mousedown",c,!1),this.domElement.addEventListener("mouseup",d,!1),window.addEventListener("keydown",l,!1),window.addEventListener("keyup",v,!1),this.handleResize(),w(this)};
//# sourceMappingURL=/sm/f69aeb0b53676e9b5691b00254b6721ccdbb5533876bc7f647dc90018b68dc6c.map