/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/js/loaders/GCodeLoader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
console.warn("THREE.GCodeLoader: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/index.html#manual/en/introduction/Import-via-modules."),THREE.GCodeLoader=function(e){THREE.Loader.call(this,e),this.splitLayer=!1},THREE.GCodeLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.GCodeLoader,load:function(e,r,t,o){var a=this,i=new THREE.FileLoader(a.manager);i.setPath(a.path),i.load(e,function(t){try{r(a.parse(t))}catch(r){o?o(r):console.error(r),a.manager.itemError(e)}},t,o)},parse:function(e){var r={x:0,y:0,z:0,e:0,f:0,extruding:!1,relative:!1},t=[],o=void 0,a=new THREE.LineBasicMaterial({color:16711680});a.name="path";var i=new THREE.LineBasicMaterial({color:65280});function n(e){o={vertex:[],pathVertex:[],z:e.z},t.push(o)}function s(e,t){return r.relative?t:t-e}function l(e,t){return r.relative?e+t:t}i.name="extruded";for(var d,u,p=e.replace(/;.+/g,"").split("\n"),f=0;f<p.length;f++){var v=p[f].split(" "),E=v[0].toUpperCase(),c={};if(v.splice(1).forEach(function(e){if(void 0!==e[0]){var r=e[0].toLowerCase(),t=parseFloat(e.substring(1));c[r]=t}}),"G0"===E||"G1"===E){var h={x:void 0!==c.x?l(r.x,c.x):r.x,y:void 0!==c.y?l(r.y,c.y):r.y,z:void 0!==c.z?l(r.z,c.z):r.z,e:void 0!==c.e?l(r.e,c.e):r.e,f:void 0!==c.f?l(r.f,c.f):r.f};s(r.e,h.e)>0&&(h.extruding=s(r.e,h.e)>0,null!=o&&h.z==o.z||n(h)),d=r,u=h,void 0===o&&n(d),h.extruding?(o.vertex.push(d.x,d.y,d.z),o.vertex.push(u.x,u.y,u.z)):(o.pathVertex.push(d.x,d.y,d.z),o.pathVertex.push(u.x,u.y,u.z)),r=h}else if("G2"===E||"G3"===E);else if("G90"===E)r.relative=!1;else if("G91"===E)r.relative=!0;else if("G92"===E){(h=r).x=void 0!==c.x?c.x:h.x,h.y=void 0!==c.y?c.y:h.y,h.z=void 0!==c.z?c.z:h.z,h.e=void 0!==c.e?c.e:h.e,r=h}}function x(e,r){var t=new THREE.BufferGeometry;t.setAttribute("position",new THREE.Float32BufferAttribute(e,3));var o=new THREE.LineSegments(t,r?i:a);o.name="layer"+f,y.add(o)}var y=new THREE.Group;if(y.name="gcode",this.splitLayer)for(f=0;f<t.length;f++){x((z=t[f]).vertex,!0),x(z.pathVertex,!1)}else{var g=[],m=[];for(f=0;f<t.length;f++){for(var z,H=(z=t[f]).vertex,R=z.pathVertex,T=0;T<H.length;T++)g.push(H[T]);for(T=0;T<R.length;T++)m.push(R[T])}x(g,!0),x(m,!1)}return y.quaternion.setFromEuler(new THREE.Euler(-Math.PI/2,0,0)),y}});
//# sourceMappingURL=/sm/e73341ce78dd8af2ddd90cda40d8c61f981340e15a5936daa228a51db6378043.map