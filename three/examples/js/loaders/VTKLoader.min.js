/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/js/loaders/VTKLoader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
console.warn("THREE.VTKLoader: As part of the transition to ES6 Modules, the files in 'examples/js' were deprecated in May 2020 (r117) and will be deleted in December 2020 (r124). You can find more information about developing using ES6 Modules in https://threejs.org/docs/index.html#manual/en/introduction/Import-via-modules."),THREE.VTKLoader=function(t){THREE.Loader.call(this,t)},THREE.VTKLoader.prototype=Object.assign(Object.create(THREE.Loader.prototype),{constructor:THREE.VTKLoader,load:function(t,e,r,a){var n=this,o=new THREE.FileLoader(n.manager);o.setPath(n.path),o.setResponseType("arraybuffer"),o.load(t,function(r){try{e(n.parse(r))}catch(e){a?a(e):console.error(e),n.manager.itemError(t)}},r,a)},parse:function(t){function e(t,e){var r=t.length,a=new Int32Array(r+e.length);return a.set(t),a.set(e,r),a}function r(t){for(var e="",r=new Uint8Array(t),a=0,n=r.length;n--;)e+=String.fromCharCode(r[a++]);return e}var a=THREE.LoaderUtils.decodeText(new Uint8Array(t,0,250)).split("\n");return-1!==a[0].indexOf("xml")?function(t){function r(t){var e,r,a,n,o,i,s="undefined"!=typeof Uint8Array?Uint8Array:Array,l=[],f=[],u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=u.length;for(e=0;e<p;e++)l[e]=u[e];for(e=0;e<p;++e)f[u.charCodeAt(e)]=e;if(f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63,(p=t.length)%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i=new s(3*p/4-(o="="===t[p-2]?2:"="===t[p-1]?1:0)),a=o>0?p-4:p;var A=0;for(e=0,r=0;e<a;e+=4,r+=3)n=f[t.charCodeAt(e)]<<18|f[t.charCodeAt(e+1)]<<12|f[t.charCodeAt(e+2)]<<6|f[t.charCodeAt(e+3)],i[A++]=(16711680&n)>>16,i[A++]=(65280&n)>>8,i[A++]=255&n;return 2===o?(n=f[t.charCodeAt(e)]<<2|f[t.charCodeAt(e+1)]>>4,i[A++]=255&n):1===o&&(n=f[t.charCodeAt(e)]<<10|f[t.charCodeAt(e+1)]<<4|f[t.charCodeAt(e+2)]>>2,i[A++]=n>>8&255,i[A++]=255&n),i}function a(t,a){var n,i,s,l,f=0;if("UInt64"===o.attributes.header_type?f=8:"UInt32"===o.attributes.header_type&&(f=4),"binary"===t.attributes.format&&a){var u,p,A,d,h,c;if("Float32"===t.attributes.type)var y=new Float32Array;else"Int64"===t.attributes.type&&(y=new Int32Array);p=(u=r(t["#text"]))[0];for(var b=1;b<f-1;b++)p|=u[b]<<b*f;for(d=(p+3)*f,c=d+=d%3>0?3-d%3:0,(h=[]).push(c),A=3*f,b=0;b<p;b++){for(var v=u[b*f+A],w=1;w<f-1;w++)v|=u[b*f+A+w]<<8*w;c+=v,h.push(c)}for(b=0;b<h.length-1;b++)x=(x=new Zlib.Inflate(u.slice(h[b],h[b+1]),{resize:!0,verify:!0}).decompress()).buffer,"Float32"===t.attributes.type?(x=new Float32Array(x),i=x,s=void 0,l=void 0,s=(n=y).length,(l=new Float32Array(s+i.length)).set(n),l.set(i,s),y=l):"Int64"===t.attributes.type&&(y=e(y,x=new Int32Array(x)));delete t["#text"],"Int64"===t.attributes.type&&"binary"===t.attributes.format&&(y=y.filter(function(t,e){if(e%2!=1)return!0}))}else{if("binary"!==t.attributes.format||a)if(t["#text"])var x=t["#text"].split(/\s+/).filter(function(t){if(""!==t)return t});else x=new Int32Array(0).buffer;else x=(x=r(t["#text"])).slice(f).buffer;delete t["#text"],"Float32"===t.attributes.type?y=new Float32Array(x):"Int32"===t.attributes.type?y=new Int32Array(x):"Int64"===t.attributes.type&&(y=new Int32Array(x),"binary"===t.attributes.format&&(y=y.filter(function(t,e){if(e%2!=1)return!0})))}return y}var n=null;if(window.DOMParser)try{n=(new DOMParser).parseFromString(t,"text/xml")}catch(t){n=null}else{if(!window.ActiveXObject)throw new Error("Cannot parse xml string!");try{if((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,!n.loadXML())throw new Error(n.parseError.reason+n.parseError.srcText)}catch(t){n=null}}var o=function t(e){var r={};if(1===e.nodeType){if(e.attributes&&e.attributes.length>0){r.attributes={};for(var a=0;a<e.attributes.length;a++){var n=e.attributes.item(a);r.attributes[n.nodeName]=n.nodeValue.trim()}}}else 3===e.nodeType&&(r=e.nodeValue.trim());if(e.hasChildNodes())for(var o=0;o<e.childNodes.length;o++){var i=e.childNodes.item(o),s=i.nodeName;if(void 0===r[s])""!==(f=t(i))&&(r[s]=f);else{if(void 0===r[s].push){var l=r[s];r[s]=[l]}var f;""!==(f=t(i))&&r[s].push(f)}}return r}(n.documentElement),i=[],s=[],l=[];if(o.PolyData){for(var f=o.PolyData.Piece,u=o.attributes.hasOwnProperty("compressor"),p=["PointData","Points","Strips","Polys"],A=0,d=p.length;A<d;){var h=f[p[A]];if(h&&h.DataArray){if("[object Array]"===Object.prototype.toString.call(h.DataArray))var c=h.DataArray;else c=[h.DataArray];for(var y=0,b=c.length;y<b;)"#text"in c[y]&&c[y]["#text"].length>0&&(c[y].text=a(c[y],u)),y++;switch(p[A]){case"PointData":var v=parseInt(f.attributes.NumberOfPoints),w=h.attributes.Normals;if(v>0)for(var x=0,E=c.length;x<E;x++)if(w===c[x].attributes.Name){var g=c[x].attributes.NumberOfComponents;(s=new Float32Array(v*g)).set(c[x].text,0)}break;case"Points":(v=parseInt(f.attributes.NumberOfPoints))>0&&(g=h.DataArray.attributes.NumberOfComponents,(i=new Float32Array(v*g)).set(h.DataArray.text,0));break;case"Strips":var I=parseInt(f.attributes.NumberOfStrips);if(I>0){var T=new Int32Array(h.DataArray[0].text.length),m=new Int32Array(h.DataArray[1].text.length);T.set(h.DataArray[0].text,0),m.set(h.DataArray[1].text,0);var O=I+T.length;l=new Uint32Array(3*O-9*I);var D=0;for(x=0,E=I;x<E;x++){for(var F=[],R=0,S=m[x],P=0;R<S-P;R++)F.push(T[R]),x>0&&(P=m[x-1]);var C=0;for(S=m[x],P=0;C<S-P-2;C++)C%2?(l[D++]=F[C],l[D++]=F[C+2],l[D++]=F[C+1]):(l[D++]=F[C],l[D++]=F[C+1],l[D++]=F[C+2]),x>0&&(P=m[x-1])}}break;case"Polys":var L=parseInt(f.attributes.NumberOfPolys);if(L>0){T=new Int32Array(h.DataArray[0].text.length),m=new Int32Array(h.DataArray[1].text.length),T.set(h.DataArray[0].text,0),m.set(h.DataArray[1].text,0),O=L+T.length,l=new Uint32Array(3*O-9*L),D=0;var N=0;for(x=0,E=L,P=0;x<E;){var H=[];for(R=0,S=m[x];R<S-P;)H.push(T[N++]),R++;for(C=1;C<S-P-1;)l[D++]=H[0],l[D++]=H[C],l[D++]=H[C+1],C++;P=m[++x-1]}}}}A++}var U=new THREE.BufferGeometry;return U.setIndex(new THREE.BufferAttribute(l,1)),U.setAttribute("position",new THREE.BufferAttribute(i,3)),s.length===i.length&&U.setAttribute("normal",new THREE.BufferAttribute(s,3)),U}throw new Error("Unsupported DATASET type")}(r(t)):a[2].includes("ASCII")?function(t){var e,r=[],a=[],n=[],o=[],i=/^[^\d.\s-]+/,s=/(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)/g,l=/^(\d+)\s+([\s\d]*)/,f=/^POINTS /,u=/^POLYGONS /,p=/^TRIANGLE_STRIPS /,A=/^POINT_DATA[ ]+(\d+)/,d=/^CELL_DATA[ ]+(\d+)/,h=/^COLOR_SCALARS[ ]+(\w+)[ ]+3/,c=/^NORMALS[ ]+(\w+)[ ]+(\w+)/,y=!1,b=!1,v=!1,w=!1,x=!1,E=!1,g=!1,I=t.split("\n");for(var T in I){var m=I[T].trim();if(0===m.indexOf("DATASET")){var O=m.split(" ")[1];if("POLYDATA"!==O)throw new Error("Unsupported DATASET type: "+O)}else if(y)for(;null!==(e=s.exec(m))&&null===i.exec(m);){var D=parseFloat(e[1]),F=parseFloat(e[2]),R=parseFloat(e[3]);a.push(D,F,R)}else if(b){if(null!==(e=l.exec(m))){var S=parseInt(e[1]),P=e[2].split(/\s+/);if(S>=3)for(var C=parseInt(P[0]),L=1,N=0;N<S-2;++N)H=parseInt(P[L]),U=parseInt(P[L+1]),r.push(C,H,U),L++}}else if(v){if(null!==(e=l.exec(m))){var H,U;if(S=parseInt(e[1]),P=e[2].split(/\s+/),S>=3)for(N=0;N<S-2;N++)N%2==1?(C=parseInt(P[N]),H=parseInt(P[N+2]),U=parseInt(P[N+1]),r.push(C,H,U)):(C=parseInt(P[N]),H=parseInt(P[N+1]),U=parseInt(P[N+2]),r.push(C,H,U))}}else if(w||x)if(E)for(;null!==(e=s.exec(m))&&null===i.exec(m);){var B=parseFloat(e[1]),M=parseFloat(e[2]),j=parseFloat(e[3]);n.push(B,M,j)}else if(g)for(;null!==(e=s.exec(m))&&null===i.exec(m);){var _=parseFloat(e[1]),G=parseFloat(e[2]),V=parseFloat(e[3]);o.push(_,G,V)}null!==u.exec(m)?(b=!0,y=!1,v=!1):null!==f.exec(m)?(b=!1,y=!0,v=!1):null!==p.exec(m)?(b=!1,y=!1,v=!0):null!==A.exec(m)?(w=!0,y=!1,b=!1,v=!1):null!==d.exec(m)?(x=!0,y=!1,b=!1,v=!1):null!==h.exec(m)?(E=!0,g=!1,y=!1,b=!1,v=!1):null!==c.exec(m)&&(g=!0,E=!1,y=!1,b=!1,v=!1)}var Y=new THREE.BufferGeometry;if(Y.setIndex(r),Y.setAttribute("position",new THREE.Float32BufferAttribute(a,3)),o.length===a.length&&Y.setAttribute("normal",new THREE.Float32BufferAttribute(o,3)),n.length!==r.length)n.length===a.length&&Y.setAttribute("color",new THREE.Float32BufferAttribute(n,3));else{var k=(Y=Y.toNonIndexed()).attributes.position.count/3;if(n.length===3*k){var K=[];for(T=0;T<k;T++)B=n[3*T+0],M=n[3*T+1],j=n[3*T+2],K.push(B,M,j),K.push(B,M,j),K.push(B,M,j);Y.setAttribute("color",new THREE.Float32BufferAttribute(K,3))}}return Y}(r(t)):function(t){var e,r,a,n,o,i,s,l=new Uint8Array(t),f=new DataView(t),u=[],p=[],A=[],d=[],h=0;function c(t,e){for(var r=e,a=t[r],n=[];10!==a;)n.push(String.fromCharCode(a)),a=t[++r];return{start:e,end:r,next:r+1,parsedString:n.join("")}}for(;;){if(0===(s=(i=c(l,h)).parsedString).indexOf("DATASET")){var y=s.split(" ")[1];if("POLYDATA"!==y)throw new Error("Unsupported DATASET type: "+y)}else if(0===s.indexOf("POINTS")){for(d.push(s),e=4*(n=parseInt(s.split(" ")[1],10))*3,u=new Float32Array(3*n),r=i.next,a=0;a<n;a++)u[3*a]=f.getFloat32(r,!1),u[3*a+1]=f.getFloat32(r+4,!1),u[3*a+2]=f.getFloat32(r+8,!1),r+=12;i.next=i.next+e+1}else if(0===s.indexOf("TRIANGLE_STRIPS")){var b=parseInt(s.split(" ")[1],10);e=4*(g=parseInt(s.split(" ")[2],10)),A=new Uint32Array(3*g-9*b);var v=0;for(r=i.next,a=0;a<b;a++){var w=f.getInt32(r,!1),x=[];for(r+=4,o=0;o<w;o++)x.push(f.getInt32(r,!1)),r+=4;for(var E=0;E<w-2;E++)E%2?(A[v++]=x[E],A[v++]=x[E+2],A[v++]=x[E+1]):(A[v++]=x[E],A[v++]=x[E+1],A[v++]=x[E+2])}i.next=i.next+e+1}else if(0===s.indexOf("POLYGONS")){var g;for(b=parseInt(s.split(" ")[1],10),e=4*(g=parseInt(s.split(" ")[2],10)),A=new Uint32Array(3*g-9*b),v=0,r=i.next,a=0;a<b;a++){for(w=f.getInt32(r,!1),x=[],r+=4,o=0;o<w;o++)x.push(f.getInt32(r,!1)),r+=4;for(E=1;E<w-1;E++)A[v++]=x[0],A[v++]=x[E],A[v++]=x[E+1]}i.next=i.next+e+1}else if(0===s.indexOf("POINT_DATA")){for(n=parseInt(s.split(" ")[1],10),i=c(l,i.next),e=4*n*3,p=new Float32Array(3*n),r=i.next,a=0;a<n;a++)p[3*a]=f.getFloat32(r,!1),p[3*a+1]=f.getFloat32(r+4,!1),p[3*a+2]=f.getFloat32(r+8,!1),r+=12;i.next=i.next+e}if((h=i.next)>=l.byteLength)break}var I=new THREE.BufferGeometry;return I.setIndex(new THREE.BufferAttribute(A,1)),I.setAttribute("position",new THREE.BufferAttribute(u,3)),p.length===u.length&&I.setAttribute("normal",new THREE.BufferAttribute(p,3)),I}(t)}});
//# sourceMappingURL=/sm/2f28654b7203834fe3249eb278f2e0792b5ae384b840ad088f7d1224b6bce803.map