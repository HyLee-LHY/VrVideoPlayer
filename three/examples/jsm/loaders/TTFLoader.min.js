/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/jsm/loaders/TTFLoader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{FileLoader,Loader}from"../../../build/three.module.js";import{opentype}from"../libs/opentype.module.min.js";var TTFLoader=function(e){Loader.call(this,e),this.reversed=!1};TTFLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:TTFLoader,load:function(e,o,r,a){var n=this,t=new FileLoader(this.manager);t.setPath(this.path),t.setResponseType("arraybuffer"),t.load(e,function(r){try{o(n.parse(r))}catch(o){a?a(o):console.error(o),n.manager.itemError(e)}},r,a)},parse:function(e){function o(e){var o,r=[];e.forEach(function(e){"m"===e.type.toLowerCase()?(o=[e],r.push(o)):"z"!==e.type.toLowerCase()&&o.push(e)});var a=[];return r.forEach(function(e){var o={type:"m",x:e[e.length-1].x,y:e[e.length-1].y};a.push(o);for(var r=e.length-1;r>0;r--){var n=e[r];o={type:n.type};void 0!==n.x2&&void 0!==n.y2?(o.x1=n.x2,o.y1=n.y2,o.x2=n.x1,o.y2=n.y1):void 0!==n.x1&&void 0!==n.y1&&(o.x1=n.x1,o.y1=n.y1),o.x=e[r-1].x,o.y=e[r-1].y,a.push(o)}}),a}return void 0===opentype?(console.warn("THREE.TTFLoader: The loader requires opentype.js. Make sure it's included before using the loader."),null):function(e,r){for(var a=Math.round,n={},t=1e5/(72*(e.unitsPerEm||2048)),i=e.encoding.cmap.glyphIndexMap,s=Object.keys(i),d=0;d<s.length;d++){var p=s[d],y=e.glyphs.glyphs[i[p]];if(void 0!==p){var l={ha:a(y.advanceWidth*t),x_min:a(y.xMin*t),x_max:a(y.xMax*t),o:""};r&&(y.path.commands=o(y.path.commands)),y.path.commands.forEach(function(e){"c"===e.type.toLowerCase()&&(e.type="b"),l.o+=e.type.toLowerCase()+" ",void 0!==e.x&&void 0!==e.y&&(l.o+=a(e.x*t)+" "+a(e.y*t)+" "),void 0!==e.x1&&void 0!==e.y1&&(l.o+=a(e.x1*t)+" "+a(e.y1*t)+" "),void 0!==e.x2&&void 0!==e.y2&&(l.o+=a(e.x2*t)+" "+a(e.y2*t)+" ")}),n[String.fromCodePoint(y.unicode)]=l}}return{glyphs:n,familyName:e.getEnglishName("fullName"),ascender:a(e.ascender*t),descender:a(e.descender*t),underlinePosition:e.tables.post.underlinePosition,underlineThickness:e.tables.post.underlineThickness,boundingBox:{xMin:e.tables.head.xMin,xMax:e.tables.head.xMax,yMin:e.tables.head.yMin,yMax:e.tables.head.yMax},resolution:1e3,original_font_information:e.tables.name}}(opentype.parse(e),this.reversed)}});export{TTFLoader};
//# sourceMappingURL=/sm/054acaabe88aed4f5ec1d00f3ad093580d03d570d496d5ba68df6aaae3aa930e.map