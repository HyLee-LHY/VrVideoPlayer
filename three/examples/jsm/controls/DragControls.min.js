/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/jsm/controls/DragControls.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{EventDispatcher,Matrix4,Plane,Raycaster,Vector2,Vector3}from"../../../build/three.module.js";var DragControls=function(e,t,r){var n=new Plane,o=new Raycaster,a=new Vector2,i=new Vector3,s=new Vector3,c=new Vector3,l=new Matrix4,u=[],d=null,v=null,p=this;function m(){r.addEventListener("mousemove",g,!1),r.addEventListener("mousedown",y,!1),r.addEventListener("mouseup",f,!1),r.addEventListener("mouseleave",f,!1),r.addEventListener("touchmove",b,!1),r.addEventListener("touchstart",E,!1),r.addEventListener("touchend",x,!1)}function h(){r.removeEventListener("mousemove",g,!1),r.removeEventListener("mousedown",y,!1),r.removeEventListener("mouseup",f,!1),r.removeEventListener("mouseleave",f,!1),r.removeEventListener("touchmove",b,!1),r.removeEventListener("touchstart",E,!1),r.removeEventListener("touchend",x,!1),r.style.cursor=""}function g(m){m.preventDefault();var h=r.getBoundingClientRect();if(a.x=(m.clientX-h.left)/h.width*2-1,a.y=-(m.clientY-h.top)/h.height*2+1,o.setFromCamera(a,t),d&&p.enabled)return o.ray.intersectPlane(n,s)&&d.position.copy(s.sub(i).applyMatrix4(l)),void p.dispatchEvent({type:"drag",object:d});if(u.length=0,o.setFromCamera(a,t),o.intersectObjects(e,!0,u),u.length>0){var g=u[0].object;n.setFromNormalAndCoplanarPoint(t.getWorldDirection(n.normal),c.setFromMatrixPosition(g.matrixWorld)),v!==g&&(p.dispatchEvent({type:"hoveron",object:g}),r.style.cursor="pointer",v=g)}else null!==v&&(p.dispatchEvent({type:"hoveroff",object:v}),r.style.cursor="auto",v=null)}function y(v){v.preventDefault(),u.length=0,o.setFromCamera(a,t),o.intersectObjects(e,!0,u),u.length>0&&(d=!0===p.transformGroup?e[0]:u[0].object,o.ray.intersectPlane(n,s)&&(l.getInverse(d.parent.matrixWorld),i.copy(s).sub(c.setFromMatrixPosition(d.matrixWorld))),r.style.cursor="move",p.dispatchEvent({type:"dragstart",object:d}))}function f(e){e.preventDefault(),d&&(p.dispatchEvent({type:"dragend",object:d}),d=null),r.style.cursor=v?"pointer":"auto"}function b(e){e.preventDefault(),e=e.changedTouches[0];var c=r.getBoundingClientRect();if(a.x=(e.clientX-c.left)/c.width*2-1,a.y=-(e.clientY-c.top)/c.height*2+1,o.setFromCamera(a,t),d&&p.enabled)return o.ray.intersectPlane(n,s)&&d.position.copy(s.sub(i).applyMatrix4(l)),void p.dispatchEvent({type:"drag",object:d})}function E(v){v.preventDefault(),v=v.changedTouches[0];var m=r.getBoundingClientRect();a.x=(v.clientX-m.left)/m.width*2-1,a.y=-(v.clientY-m.top)/m.height*2+1,u.length=0,o.setFromCamera(a,t),o.intersectObjects(e,!0,u),u.length>0&&(d=!0===p.transformGroup?e[0]:u[0].object,n.setFromNormalAndCoplanarPoint(t.getWorldDirection(n.normal),c.setFromMatrixPosition(d.matrixWorld)),o.ray.intersectPlane(n,s)&&(l.getInverse(d.parent.matrixWorld),i.copy(s).sub(c.setFromMatrixPosition(d.matrixWorld))),r.style.cursor="move",p.dispatchEvent({type:"dragstart",object:d}))}function x(e){e.preventDefault(),d&&(p.dispatchEvent({type:"dragend",object:d}),d=null),r.style.cursor="auto"}m(),this.enabled=!0,this.transformGroup=!1,this.activate=m,this.deactivate=h,this.dispose=function(){h()},this.getObjects=function(){return e}};DragControls.prototype=Object.create(EventDispatcher.prototype),DragControls.prototype.constructor=DragControls;export{DragControls};
//# sourceMappingURL=/sm/8756c6440de53c8525a3e45fdb3de572b98d54f260b1074f7983e0704d12994f.map