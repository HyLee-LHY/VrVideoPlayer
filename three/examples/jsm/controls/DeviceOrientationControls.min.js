/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/jsm/controls/DeviceOrientationControls.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Euler,MathUtils,Quaternion,Vector3}from"../../../build/three.module.js";var DeviceOrientationControls=function(e){var t=this;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var n,i,o,a,r=function(e){t.deviceOrientation=e},s=function(){t.screenOrientation=window.orientation||0},c=(n=new Vector3(0,0,1),i=new Euler,o=new Quaternion,a=new Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),function(e,t,r,s,c){i.set(r,t,-s,"YXZ"),e.setFromEuler(i),e.multiply(a),e.multiply(o.setFromAxisAngle(n,-c))});this.connect=function(){s(),void 0!==window.DeviceOrientationEvent&&"function"==typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then(function(e){"granted"==e&&(window.addEventListener("orientationchange",s,!1),window.addEventListener("deviceorientation",r,!1))}).catch(function(e){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",e)}):(window.addEventListener("orientationchange",s,!1),window.addEventListener("deviceorientation",r,!1)),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",s,!1),window.removeEventListener("deviceorientation",r,!1),t.enabled=!1},this.update=function(){if(!1!==t.enabled){var e=t.deviceOrientation;if(e){var n=e.alpha?MathUtils.degToRad(e.alpha)+t.alphaOffset:0,i=e.beta?MathUtils.degToRad(e.beta):0,o=e.gamma?MathUtils.degToRad(e.gamma):0,a=t.screenOrientation?MathUtils.degToRad(t.screenOrientation):0;c(t.object.quaternion,n,i,o,a)}}},this.dispose=function(){t.disconnect()},this.connect()};export{DeviceOrientationControls};
//# sourceMappingURL=/sm/254126b8d043ea3f23441e86d54a1677e67cff1d9b458f8bb19f253c592e9029.map