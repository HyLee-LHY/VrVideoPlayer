/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/jsm/utils/ShadowMapViewer.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{DoubleSide,LinearFilter,Mesh,MeshBasicMaterial,OrthographicCamera,PlaneBufferGeometry,Scene,ShaderMaterial,Texture,UniformsUtils}from"../../../build/three.module.js";import{UnpackDepthRGBAShader}from"../shaders/UnpackDepthRGBAShader.js";var ShadowMapViewer=function(e){var i,t=this,n=void 0!==e.name&&""!==e.name,r=10,a=10,h=256,o=256,s=new OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,1,10);s.position.set(0,0,2);var d,w,p=new Scene,l=UnpackDepthRGBAShader,u=UniformsUtils.clone(l.uniforms),f=new ShaderMaterial({uniforms:u,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}),m=new PlaneBufferGeometry(h,o),c=new Mesh(m,f);if(p.add(c),n){var g=(d=document.createElement("canvas")).getContext("2d");g.font="Bold 20px Arial";var x=g.measureText(e.name).width;d.width=x,d.height=25,g.font="Bold 20px Arial",g.fillStyle="rgba( 255, 0, 0, 1 )",g.fillText(e.name,0,20);var S=new Texture(d);S.magFilter=LinearFilter,S.minFilter=LinearFilter,S.needsUpdate=!0;var v=new MeshBasicMaterial({map:S,side:DoubleSide});v.transparent=!0;var M=new PlaneBufferGeometry(d.width,d.height);w=new Mesh(M,v),p.add(w)}this.enabled=!0,this.size={width:h,height:o,set:function(e,i){this.width=e,this.height=i,c.scale.set(this.width/h,this.height/o,1),t.position.set(t.position.x,t.position.y)}},this.position={x:r,y:a,set:function(e,i){this.x=e,this.y=i;var r=t.size.width,a=t.size.height;c.position.set(-window.innerWidth/2+r/2+this.x,window.innerHeight/2-a/2-this.y,0),n&&w.position.set(c.position.x,c.position.y-t.size.height/2+d.height/2,0)}},this.render=function(t){this.enabled&&(u.tDiffuse.value=e.shadow.map.texture,i=t.autoClear,t.autoClear=!1,t.clearDepth(),t.render(p,s),t.autoClear=i)},this.updateForWindowResize=function(){this.enabled&&(s.left=window.innerWidth/-2,s.right=window.innerWidth/2,s.top=window.innerHeight/2,s.bottom=window.innerHeight/-2,s.updateProjectionMatrix(),this.update())},this.update=function(){this.position.set(this.position.x,this.position.y),this.size.set(this.size.width,this.size.height)},this.update()};ShadowMapViewer.prototype.constructor=ShadowMapViewer;export{ShadowMapViewer};
//# sourceMappingURL=/sm/00edcc6034af085d0d4939d9e21604013be46b1d65e3bc52f3062cbb5b1aecc9.map