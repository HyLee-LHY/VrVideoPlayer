/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/jsm/misc/TubePainter.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{BufferAttribute,BufferGeometry,Color,DynamicDrawUsage,Matrix4,Mesh,MeshStandardMaterial,Vector3}from"../../../build/three.module.js";function TubePainter(){let r=new BufferAttribute(new Float32Array(3e6),3);r.usage=DynamicDrawUsage;let a=new BufferAttribute(new Float32Array(3e6),3);a.usage=DynamicDrawUsage;let e=new BufferAttribute(new Float32Array(3e6),3);e.usage=DynamicDrawUsage;let t=new BufferGeometry;t.setAttribute("position",r),t.setAttribute("normal",a),t.setAttribute("color",e),t.drawRange.count=0;let o=new MeshStandardMaterial({vertexColors:!0}),n=new Mesh(t,o);n.frustumCulled=!1;let y=new Vector3,u=new Vector3,i=new Vector3,c=new Vector3,l=new Color(16777215),p=1;function d(o,n,d,f){if(0===o.distanceToSquared(n))return;let s=t.drawRange.count,A=function(r){let a=2*Math.PI,e=[],t=.01*r;for(let r=0;r<10;r++){let o=r/10*a;e.push(new Vector3(Math.sin(o)*t,Math.cos(o)*t,0))}return e}(p);for(let t=0,p=A.length;t<p;t++){let w=A[t],M=A[(t+1)%p];y.copy(w).applyMatrix4(f).add(n),u.copy(M).applyMatrix4(f).add(n),i.copy(M).applyMatrix4(d).add(o),c.copy(w).applyMatrix4(d).add(o),y.toArray(r.array,3*(s+0)),u.toArray(r.array,3*(s+1)),c.toArray(r.array,3*(s+2)),u.toArray(r.array,3*(s+3)),i.toArray(r.array,3*(s+4)),c.toArray(r.array,3*(s+5)),y.copy(w).applyMatrix4(f).normalize(),u.copy(M).applyMatrix4(f).normalize(),i.copy(M).applyMatrix4(d).normalize(),c.copy(w).applyMatrix4(d).normalize(),y.toArray(a.array,3*(s+0)),u.toArray(a.array,3*(s+1)),c.toArray(a.array,3*(s+2)),u.toArray(a.array,3*(s+3)),i.toArray(a.array,3*(s+4)),c.toArray(a.array,3*(s+5)),l.toArray(e.array,3*(s+0)),l.toArray(e.array,3*(s+1)),l.toArray(e.array,3*(s+2)),l.toArray(e.array,3*(s+3)),l.toArray(e.array,3*(s+4)),l.toArray(e.array,3*(s+5)),s+=6}t.drawRange.count=s}let f=new Vector3(0,1,0),s=new Vector3,A=new Vector3,w=new Matrix4,M=new Matrix4;let g=0;return{mesh:n,moveTo:function(r){s.copy(r),w.lookAt(A,s,f),A.copy(r),M.copy(w)},lineTo:function(r){s.copy(r),w.lookAt(A,s,f),d(s,A,w,M),A.copy(s),M.copy(w)},setSize:function(r){p=r},update:function(){let o=g,n=t.drawRange.count;o!==n&&(r.updateRange.offset=3*o,r.updateRange.count=3*(n-o),r.needsUpdate=!0,a.updateRange.offset=3*o,a.updateRange.count=3*(n-o),a.needsUpdate=!0,e.updateRange.offset=3*o,e.updateRange.count=3*(n-o),e.needsUpdate=!0,g=t.drawRange.count)}}}export{TubePainter};
//# sourceMappingURL=/sm/0ea5acef31757ae525b32cc218338ab00ae9d1c99c3a855e92abd690bd8291c4.map