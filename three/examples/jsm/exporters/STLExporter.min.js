/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/jsm/exporters/STLExporter.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Geometry,Matrix3,Vector3}from"../../../build/three.module.js";var STLExporter=function(){};STLExporter.prototype={constructor:STLExporter,parse:function(){var r=new Vector3,e=new Matrix3;return function(t,o){void 0===o&&(o={});var a=void 0!==o.binary&&o.binary,n=[],i=0;if(t.traverse(function(r){if(r.isMesh){var e=r.geometry;e.isBufferGeometry&&(e=(new Geometry).fromBufferGeometry(e)),e.isGeometry&&(i+=e.faces.length,n.push({geometry:e,matrixWorld:r.matrixWorld}))}}),a){var l=80,y=new ArrayBuffer(2*i+3*i*4*4+80+4);(M=new DataView(y)).setUint32(l,i,!0),l+=4;for(var m=0,p=n.length;m<p;m++){var f=(h=n[m]).geometry.vertices,s=h.geometry.faces,x=h.matrixWorld;e.getNormalMatrix(x);for(var c=0,v=s.length;c<v;c++){var d=s[c];r.copy(d.normal).applyMatrix3(e).normalize(),M.setFloat32(l,r.x,!0),l+=4,M.setFloat32(l,r.y,!0),l+=4,M.setFloat32(l,r.z,!0),l+=4;for(var u=[d.a,d.b,d.c],g=0;g<3;g++)r.copy(f[u[g]]).applyMatrix4(x),M.setFloat32(l,r.x,!0),l+=4,M.setFloat32(l,r.y,!0),l+=4,M.setFloat32(l,r.z,!0),l+=4;M.setUint16(l,0,!0),l+=2}}return M}var M="";M+="solid exported\n";for(m=0,p=n.length;m<p;m++){var h;f=(h=n[m]).geometry.vertices,s=h.geometry.faces,x=h.matrixWorld;e.getNormalMatrix(x);for(c=0,v=s.length;c<v;c++){d=s[c];r.copy(d.normal).applyMatrix3(e).normalize(),M+="\tfacet normal "+r.x+" "+r.y+" "+r.z+"\n",M+="\t\touter loop\n";for(u=[d.a,d.b,d.c],g=0;g<3;g++)r.copy(f[u[g]]).applyMatrix4(x),M+="\t\t\tvertex "+r.x+" "+r.y+" "+r.z+"\n";M+="\t\tendloop\n",M+="\tendfacet\n"}}return M+="endsolid exported\n"}}()};export{STLExporter};
//# sourceMappingURL=/sm/023dc45342a26141b685d36a6d5d7a21a759b1ba7d0b3031b3a4ef475cdf73c0.map