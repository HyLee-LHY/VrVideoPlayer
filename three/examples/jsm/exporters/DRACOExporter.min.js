/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/jsm/exporters/DRACOExporter.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{BufferGeometry}from"../../../build/three.module.js";var DRACOExporter=function(){};DRACOExporter.prototype={constructor:DRACOExporter,parse:function(e,r){if(void 0===DracoEncoderModule)throw new Error("THREE.DRACOExporter: required the draco_decoder to work.");void 0===r&&(r={decodeSpeed:5,encodeSpeed:5,encoderMethod:DRACOExporter.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1});var o=DracoEncoderModule(),t=new o.Encoder,i=new o.MeshBuilder,n=new o.Mesh;if(!0===e.isGeometry){var d=new BufferGeometry;d.fromGeometry(e),e=d}if(!0!==e.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.Geometry or BufferGeometry instance.");var a=e.getAttribute("position");if(i.AddFloatAttributeToMesh(n,o.POSITION,a.count,a.itemSize,a.array),null!==(E=e.getIndex()))i.AddFacesToMesh(n,E.count/3,E.array);else{for(var E=new(a.count>65535?Uint32Array:Uint16Array)(a.count),A=0;A<E.length;A++)E[A]=A;i.AddFacesToMesh(n,a.count,E)}if(!0===r.exportNormals){var u=e.getAttribute("normal");void 0!==u&&i.AddFloatAttributeToMesh(n,o.NORMAL,u.count,u.itemSize,u.array)}if(!0===r.exportUvs){var p=e.getAttribute("uv");void 0!==p&&i.AddFloatAttributeToMesh(n,o.TEX_COORD,p.count,p.itemSize,p.array)}if(!0===r.exportColor){var O=e.getAttribute("color");void 0!==O&&i.AddFloatAttributeToMesh(n,o.COLOR,O.count,O.itemSize,O.array)}var c=new o.DracoInt8Array;if(t.SetSpeedOptions(r.encodeSpeed||5,r.decodeSpeed||5),void 0!==r.encoderMethod&&t.SetEncodingMethod(r.encoderMethod),void 0!==r.quantization)for(A=0;A<5;A++)void 0!==r.quantization[A]&&t.SetAttributeQuantization(A,r.quantization[A]);var R=t.EncodeMeshToDracoBuffer(n,c);if(o.destroy(n),0===R)throw new Error("THREE.DRACOExporter: Draco encoding failed.");var D=new Int8Array(new ArrayBuffer(R));for(A=0;A<R;A++)D[A]=c.GetValue(A);return o.destroy(c),o.destroy(t),o.destroy(i),D}},DRACOExporter.MESH_EDGEBREAKER_ENCODING=1,DRACOExporter.MESH_SEQUENTIAL_ENCODING=0,DRACOExporter.POINT_CLOUD=0,DRACOExporter.TRIANGULAR_MESH=1,DRACOExporter.INVALID=-1,DRACOExporter.POSITION=0,DRACOExporter.NORMAL=1,DRACOExporter.COLOR=2,DRACOExporter.TEX_COORD=3,DRACOExporter.GENERIC=4;export{DRACOExporter};
//# sourceMappingURL=/sm/b308dc9da86a795a83c6af2432676e79bdbf4138255e3616b8b84908a9fde6ba.map