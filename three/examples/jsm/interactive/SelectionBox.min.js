/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/jsm/interactive/SelectionBox.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Frustum,Vector3}from"../../../build/three.module.js";var SelectionBox=function(){var t=new Frustum,e=new Vector3,r=new Vector3,o=new Vector3,a=new Vector3,n=new Vector3,i=new Vector3,s=new Vector3,c=new Vector3,m=new Vector3,h=new Vector3,l=new Vector3,p=new Vector3,u=new Vector3,d=new Vector3;function y(t,e,r){this.camera=t,this.scene=e,this.startPoint=new Vector3,this.endPoint=new Vector3,this.collection=[],this.deep=r||Number.MAX_VALUE}return y.prototype.select=function(e,r){return this.startPoint=e||this.startPoint,this.endPoint=r||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(t,this.scene),this.collection},y.prototype.updateFrustum=function(e,y){if(e=e||this.startPoint,y=y||this.endPoint,e.x===y.x&&(y.x+=Number.EPSILON),e.y===y.y&&(y.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera)r.copy(e),r.x=Math.min(e.x,y.x),r.y=Math.max(e.y,y.y),y.x=Math.max(e.x,y.x),y.y=Math.min(e.y,y.y),o.setFromMatrixPosition(this.camera.matrixWorld),a.copy(r),n.set(y.x,r.y,0),i.copy(y),s.set(r.x,y.y,0),a.unproject(this.camera),n.unproject(this.camera),i.unproject(this.camera),s.unproject(this.camera),p.copy(a).sub(o),u.copy(n).sub(o),d.copy(i).sub(o),p.normalize(),u.normalize(),d.normalize(),p.multiplyScalar(this.deep),u.multiplyScalar(this.deep),d.multiplyScalar(this.deep),p.add(o),u.add(o),d.add(o),(x=t.planes)[0].setFromCoplanarPoints(o,a,n),x[1].setFromCoplanarPoints(o,n,i),x[2].setFromCoplanarPoints(i,s,o),x[3].setFromCoplanarPoints(s,a,o),x[4].setFromCoplanarPoints(n,i,s),x[5].setFromCoplanarPoints(d,u,p),x[5].normal.multiplyScalar(-1);else if(this.camera.isOrthographicCamera){var x,P=Math.min(e.x,y.x),F=Math.max(e.y,y.y),V=Math.max(e.x,y.x),w=Math.min(e.y,y.y);a.set(P,F,-1),n.set(V,F,-1),i.set(V,w,-1),s.set(P,w,-1),c.set(P,F,1),m.set(V,F,1),h.set(V,w,1),l.set(P,w,1),a.unproject(this.camera),n.unproject(this.camera),i.unproject(this.camera),s.unproject(this.camera),c.unproject(this.camera),m.unproject(this.camera),h.unproject(this.camera),l.unproject(this.camera),(x=t.planes)[0].setFromCoplanarPoints(a,c,m),x[1].setFromCoplanarPoints(n,m,h),x[2].setFromCoplanarPoints(h,l,s),x[3].setFromCoplanarPoints(l,c,a),x[4].setFromCoplanarPoints(n,i,s),x[5].setFromCoplanarPoints(h,m,c),x[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")},y.prototype.searchChildInFrustum=function(t,r){if((r.isMesh||r.isLine||r.isPoints)&&void 0!==r.material&&(null===r.geometry.boundingSphere&&r.geometry.computeBoundingSphere(),e.copy(r.geometry.boundingSphere.center),e.applyMatrix4(r.matrixWorld),t.containsPoint(e)&&this.collection.push(r)),r.children.length>0)for(var o=0;o<r.children.length;o++)this.searchChildInFrustum(t,r.children[o])},y}();export{SelectionBox};
//# sourceMappingURL=/sm/a86f3e9d383a55230d6263cad7e10ebfda9961a77efc3595a9398849fe424a4c.map