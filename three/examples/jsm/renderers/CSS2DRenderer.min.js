/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/examples/jsm/renderers/CSS2DRenderer.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Matrix4,Object3D,Vector3}from"../../../build/three.module.js";var CSS2DObject=function(e){Object3D.call(this),this.element=e,this.element.style.position="absolute",this.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)})})};CSS2DObject.prototype=Object.create(Object3D.prototype),CSS2DObject.prototype.constructor=CSS2DObject;var CSS2DRenderer=function(){var e,t,r,n,o=this,i=new Vector3,a=new Matrix4,s=new Matrix4,l={objects:new WeakMap},c=document.createElement("div");c.style.overflow="hidden",this.domElement=c,this.getSize=function(){return{width:e,height:t}},this.setSize=function(o,i){r=(e=o)/2,n=(t=i)/2,c.style.width=o+"px",c.style.height=i+"px"};var d,m,u=function(e,t,a){if(e instanceof CSS2DObject){e.onBeforeRender(o,t,a),i.setFromMatrixPosition(e.matrixWorld),i.applyMatrix4(s);var d=e.element,m="translate(-50%,-50%) translate("+(i.x*r+r)+"px,"+(-i.y*n+n)+"px)";d.style.WebkitTransform=m,d.style.MozTransform=m,d.style.oTransform=m,d.style.transform=m,d.style.display=e.visible&&i.z>=-1&&i.z<=1?"":"none";var f={distanceToCameraSquared:p(a,e)};l.objects.set(e,f),d.parentNode!==c&&c.appendChild(d),e.onAfterRender(o,t,a)}for(var h=0,S=e.children.length;h<S;h++)u(e.children[h],t,a)},p=(d=new Vector3,m=new Vector3,function(e,t){return d.setFromMatrixPosition(e.matrixWorld),m.setFromMatrixPosition(t.matrixWorld),d.distanceToSquared(m)}),f=function(e){for(var t=function(e){var t=[];return e.traverse(function(e){e instanceof CSS2DObject&&t.push(e)}),t}(e).sort(function(e,t){return l.objects.get(e).distanceToCameraSquared-l.objects.get(t).distanceToCameraSquared}),r=t.length,n=0,o=t.length;n<o;n++)t[n].element.style.zIndex=r-n};this.render=function(e,t){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),a.copy(t.matrixWorldInverse),s.multiplyMatrices(t.projectionMatrix,a),u(e,e,t),f(e)}};export{CSS2DObject,CSS2DRenderer};
//# sourceMappingURL=/sm/d3cba4444505161ee05e649e7d7b9285a51fe8369fefd7f81fa7685f7a15554b.map