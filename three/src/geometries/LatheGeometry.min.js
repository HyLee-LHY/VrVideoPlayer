/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/geometries/LatheGeometry.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Geometry}from"../core/Geometry.js";import{Float32BufferAttribute}from"../core/BufferAttribute.js";import{BufferGeometry}from"../core/BufferGeometry.js";import{Vector3}from"../math/Vector3.js";import{Vector2}from"../math/Vector2.js";import{MathUtils}from"../math/MathUtils.js";function LatheGeometry(t,e,r,o){Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:o},this.fromBufferGeometry(new LatheBufferGeometry(t,e,r,o)),this.mergeVertices()}function LatheBufferGeometry(t,e,r,o){BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:o},e=Math.floor(e)||12,r=r||0,o=o||2*Math.PI,o=MathUtils.clamp(o,0,2*Math.PI);var h,a,f,m=[],s=[],i=[],y=1/e,p=new Vector3,n=new Vector2;for(a=0;a<=e;a++){var u=r+a*y*o,c=Math.sin(u),l=Math.cos(u);for(f=0;f<=t.length-1;f++)p.x=t[f].x*c,p.y=t[f].y,p.z=t[f].x*l,s.push(p.x,p.y,p.z),n.x=a/e,n.y=f/(t.length-1),i.push(n.x,n.y)}for(a=0;a<e;a++)for(f=0;f<t.length-1;f++){var G=h=f+a*t.length,B=h+t.length,L=h+t.length+1,g=h+1;m.push(G,B,g),m.push(B,L,g)}if(this.setIndex(m),this.setAttribute("position",new Float32BufferAttribute(s,3)),this.setAttribute("uv",new Float32BufferAttribute(i,2)),this.computeVertexNormals(),o===2*Math.PI){var x=this.attributes.normal.array,V=new Vector3,b=new Vector3,M=new Vector3;for(h=e*t.length*3,a=0,f=0;a<t.length;a++,f+=3)V.x=x[f+0],V.y=x[f+1],V.z=x[f+2],b.x=x[h+f+0],b.y=x[h+f+1],b.z=x[h+f+2],M.addVectors(V,b).normalize(),x[f+0]=x[h+f+0]=M.x,x[f+1]=x[h+f+1]=M.y,x[f+2]=x[h+f+2]=M.z}}LatheGeometry.prototype=Object.create(Geometry.prototype),LatheGeometry.prototype.constructor=LatheGeometry,LatheBufferGeometry.prototype=Object.create(BufferGeometry.prototype),LatheBufferGeometry.prototype.constructor=LatheBufferGeometry;export{LatheGeometry,LatheBufferGeometry};
//# sourceMappingURL=/sm/3f621d5a4d45ab629df02de4da35b35b2077ca962fdd37edacd889be02d9bc0d.map