/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/geometries/TorusKnotGeometry.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Geometry}from"../core/Geometry.js";import{BufferGeometry}from"../core/BufferGeometry.js";import{Float32BufferAttribute}from"../core/BufferAttribute.js";import{Vector3}from"../math/Vector3.js";function TorusKnotGeometry(e,t,r,o,s,u,n){Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:o,p:s,q:u},void 0!==n&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new TorusKnotBufferGeometry(e,t,r,o,s,u)),this.mergeVertices()}function TorusKnotBufferGeometry(e,t,r,o,s,u){BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:o,p:s,q:u},e=e||1,t=t||.4,r=Math.floor(r)||64,o=Math.floor(o)||8,s=s||2,u=u||3;var n,f,a=[],m=[],i=[],c=[],y=new Vector3,h=new Vector3,p=new Vector3,G=new Vector3,l=new Vector3,b=new Vector3,B=new Vector3;for(n=0;n<=r;++n){var T=n/r*s*Math.PI*2;for(A(T,s,u,e,p),A(T+.01,s,u,e,G),b.subVectors(G,p),B.addVectors(G,p),l.crossVectors(b,B),B.crossVectors(l,b),l.normalize(),B.normalize(),f=0;f<=o;++f){var V=f/o*Math.PI*2,K=-t*Math.cos(V),w=t*Math.sin(V);y.x=p.x+(K*B.x+w*l.x),y.y=p.y+(K*B.y+w*l.y),y.z=p.z+(K*B.z+w*l.z),m.push(y.x,y.y,y.z),h.subVectors(y,p).normalize(),i.push(h.x,h.y,h.z),c.push(n/r),c.push(f/o)}}for(f=1;f<=r;f++)for(n=1;n<=o;n++){var d=(o+1)*(f-1)+(n-1),z=(o+1)*f+(n-1),x=(o+1)*f+n,M=(o+1)*(f-1)+n;a.push(d,z,M),a.push(z,x,M)}function A(e,t,r,o,s){var u=Math.cos(e),n=Math.sin(e),f=r/t*e,a=Math.cos(f);s.x=o*(2+a)*.5*u,s.y=o*(2+a)*n*.5,s.z=o*Math.sin(f)*.5}this.setIndex(a),this.setAttribute("position",new Float32BufferAttribute(m,3)),this.setAttribute("normal",new Float32BufferAttribute(i,3)),this.setAttribute("uv",new Float32BufferAttribute(c,2))}TorusKnotGeometry.prototype=Object.create(Geometry.prototype),TorusKnotGeometry.prototype.constructor=TorusKnotGeometry,TorusKnotBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TorusKnotBufferGeometry.prototype.constructor=TorusKnotBufferGeometry;export{TorusKnotGeometry,TorusKnotBufferGeometry};
//# sourceMappingURL=/sm/eb5e6f9dae4706e427dd337ae4c33db02389ed5fe69f4e77a142917d2997ad5a.map