/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/geometries/PolyhedronGeometry.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Geometry}from"../core/Geometry.js";import{BufferGeometry}from"../core/BufferGeometry.js";import{Float32BufferAttribute}from"../core/BufferAttribute.js";import{Vector3}from"../math/Vector3.js";import{Vector2}from"../math/Vector2.js";function PolyhedronGeometry(e,t,r,o){Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:o},this.fromBufferGeometry(new PolyhedronBufferGeometry(e,t,r,o)),this.mergeVertices()}function PolyhedronBufferGeometry(e,t,r,o){BufferGeometry.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:o},r=r||1;var n=[],f=[];function a(e,t,r,o){var n,f,a=Math.pow(2,o),c=[];for(n=0;n<=a;n++){c[n]=[];var y=e.clone().lerp(r,n/a),m=t.clone().lerp(r,n/a),u=a-n;for(f=0;f<=u;f++)c[n][f]=0===f&&n===a?y:y.clone().lerp(m,f/u)}for(n=0;n<a;n++)for(f=0;f<2*(a-n)-1;f++){var h=Math.floor(f/2);f%2==0?(i(c[n][h+1]),i(c[n+1][h]),i(c[n][h])):(i(c[n][h+1]),i(c[n+1][h+1]),i(c[n+1][h]))}}function i(e){n.push(e.x,e.y,e.z)}function c(t,r){var o=3*t;r.x=e[o+0],r.y=e[o+1],r.z=e[o+2]}function y(e,t,r,o){o<0&&1===e.x&&(f[t]=e.x-1),0===r.x&&0===r.z&&(f[t]=o/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}!function(e){for(var r=new Vector3,o=new Vector3,n=new Vector3,f=0;f<t.length;f+=3)c(t[f+0],r),c(t[f+1],o),c(t[f+2],n),a(r,o,n,e)}(o=o||0),function(e){for(var t=new Vector3,r=0;r<n.length;r+=3)t.x=n[r+0],t.y=n[r+1],t.z=n[r+2],t.normalize().multiplyScalar(e),n[r+0]=t.x,n[r+1]=t.y,n[r+2]=t.z}(r),function(){for(var e=new Vector3,t=0;t<n.length;t+=3){e.x=n[t+0],e.y=n[t+1],e.z=n[t+2];var r=m(e)/2/Math.PI+.5,o=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);f.push(r,1-o)}var a;(function(){for(var e=new Vector3,t=new Vector3,r=new Vector3,o=new Vector3,a=new Vector2,i=new Vector2,c=new Vector2,u=0,h=0;u<n.length;u+=9,h+=6){e.set(n[u+0],n[u+1],n[u+2]),t.set(n[u+3],n[u+4],n[u+5]),r.set(n[u+6],n[u+7],n[u+8]),a.set(f[h+0],f[h+1]),i.set(f[h+2],f[h+3]),c.set(f[h+4],f[h+5]),o.copy(e).add(t).add(r).divideScalar(3);var l=m(o);y(a,h+0,e,l),y(i,h+2,t,l),y(c,h+4,r,l)}})(),function(){for(var e=0;e<f.length;e+=6){var t=f[e+0],r=f[e+2],o=f[e+4],n=Math.max(t,r,o),a=Math.min(t,r,o);n>.9&&a<.1&&(t<.2&&(f[e+0]+=1),r<.2&&(f[e+2]+=1),o<.2&&(f[e+4]+=1))}}()}(),this.setAttribute("position",new Float32BufferAttribute(n,3)),this.setAttribute("normal",new Float32BufferAttribute(n.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(f,2)),0===o?this.computeVertexNormals():this.normalizeNormals()}PolyhedronGeometry.prototype=Object.create(Geometry.prototype),PolyhedronGeometry.prototype.constructor=PolyhedronGeometry,PolyhedronBufferGeometry.prototype=Object.create(BufferGeometry.prototype),PolyhedronBufferGeometry.prototype.constructor=PolyhedronBufferGeometry;export{PolyhedronGeometry,PolyhedronBufferGeometry};
//# sourceMappingURL=/sm/3ea679b97b97d6ca476aa063ec5df376c764af3356dbc462b01d408294e1ca83.map