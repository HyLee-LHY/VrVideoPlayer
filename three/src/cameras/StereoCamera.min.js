/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/cameras/StereoCamera.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Matrix4}from"../math/Matrix4.js";import{MathUtils}from"../math/MathUtils.js";import{PerspectiveCamera}from"./PerspectiveCamera.js";var _eyeRight=new Matrix4,_eyeLeft=new Matrix4;function StereoCamera(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(StereoCamera.prototype,{update:function(e){var a=this._cache;if(a.focus!==e.focus||a.fov!==e.fov||a.aspect!==e.aspect*this.aspect||a.near!==e.near||a.far!==e.far||a.zoom!==e.zoom||a.eyeSep!==this.eyeSep){a.focus=e.focus,a.fov=e.fov,a.aspect=e.aspect*this.aspect,a.near=e.near,a.far=e.far,a.zoom=e.zoom,a.eyeSep=this.eyeSep;var t,r,s=e.projectionMatrix.clone(),o=a.eyeSep/2,i=o*a.near/a.focus,c=a.near*Math.tan(MathUtils.DEG2RAD*a.fov*.5)/a.zoom;_eyeLeft.elements[12]=-o,_eyeRight.elements[12]=o,t=-c*a.aspect+i,r=c*a.aspect+i,s.elements[0]=2*a.near/(r-t),s.elements[8]=(r+t)/(r-t),this.cameraL.projectionMatrix.copy(s),t=-c*a.aspect-i,r=c*a.aspect-i,s.elements[0]=2*a.near/(r-t),s.elements[8]=(r+t)/(r-t),this.cameraR.projectionMatrix.copy(s)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_eyeRight)}});export{StereoCamera};
//# sourceMappingURL=/sm/9014c4b0040dcee4f58789f1a24f500fbe290f6db9b70de43a8a56af57ce1828.map