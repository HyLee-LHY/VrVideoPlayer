/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/math/Matrix4.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Vector3}from"./Vector3.js";var _v1=new Vector3,_m1=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3;function Matrix4(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Matrix4.prototype,{isMatrix4:!0,set:function(t,e,n,r,s,i,o,a,h,m,l,u,c,_,f,x){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=r,v[1]=s,v[5]=i,v[9]=o,v[13]=a,v[2]=h,v[6]=m,v[10]=l,v[14]=u,v[3]=c,v[7]=_,v[11]=f,v[15]=x,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Matrix4).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(t){var e=this.elements,n=t.elements,r=1/_v1.setFromMatrixColumn(t,0).length(),s=1/_v1.setFromMatrixColumn(t,1).length(),i=1/_v1.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*s,e[5]=n[5]*s,e[6]=n[6]*s,e[7]=0,e[8]=n[8]*i,e[9]=n[9]*i,e[10]=n[10]*i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,s=t.z,i=Math.cos(n),o=Math.sin(n),a=Math.cos(r),h=Math.sin(r),m=Math.cos(s),l=Math.sin(s);if("XYZ"===t.order){var u=i*m,c=i*l,_=o*m,f=o*l;e[0]=a*m,e[4]=-a*l,e[8]=h,e[1]=c+_*h,e[5]=u-f*h,e[9]=-o*a,e[2]=f-u*h,e[6]=_+c*h,e[10]=i*a}else if("YXZ"===t.order){var x=a*m,v=a*l,M=h*m,y=h*l;e[0]=x+y*o,e[4]=M*o-v,e[8]=i*h,e[1]=i*l,e[5]=i*m,e[9]=-o,e[2]=v*o-M,e[6]=y+x*o,e[10]=i*a}else if("ZXY"===t.order){x=a*m,v=a*l,M=h*m,y=h*l;e[0]=x-y*o,e[4]=-i*l,e[8]=M+v*o,e[1]=v+M*o,e[5]=i*m,e[9]=y-x*o,e[2]=-i*h,e[6]=o,e[10]=i*a}else if("ZYX"===t.order){u=i*m,c=i*l,_=o*m,f=o*l;e[0]=a*m,e[4]=_*h-c,e[8]=u*h+f,e[1]=a*l,e[5]=f*h+u,e[9]=c*h-_,e[2]=-h,e[6]=o*a,e[10]=i*a}else if("YZX"===t.order){var z=i*a,d=i*h,p=o*a,g=o*h;e[0]=a*m,e[4]=g-z*l,e[8]=p*l+d,e[1]=l,e[5]=i*m,e[9]=-o*m,e[2]=-h*m,e[6]=d*l+p,e[10]=z-g*l}else if("XZY"===t.order){z=i*a,d=i*h,p=o*a,g=o*h;e[0]=a*m,e[4]=-l,e[8]=h*m,e[1]=z*l+g,e[5]=i*m,e[9]=d*l-p,e[2]=p*l-d,e[6]=o*m,e[10]=g*l+z}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){return this.compose(_zero,t,_one)},lookAt:function(t,e,n){var r=this.elements;return _z.subVectors(t,e),0===_z.lengthSq()&&(_z.z=1),_z.normalize(),_x.crossVectors(n,_z),0===_x.lengthSq()&&(1===Math.abs(n.z)?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(n,_z)),_x.normalize(),_y.crossVectors(_z,_x),r[0]=_x.x,r[4]=_y.x,r[8]=_z.x,r[1]=_x.y,r[5]=_y.y,r[9]=_z.y,r[2]=_x.z,r[6]=_y.z,r[10]=_z.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,s=this.elements,i=n[0],o=n[4],a=n[8],h=n[12],m=n[1],l=n[5],u=n[9],c=n[13],_=n[2],f=n[6],x=n[10],v=n[14],M=n[3],y=n[7],z=n[11],d=n[15],p=r[0],g=r[4],k=r[8],w=r[12],E=r[1],R=r[5],V=r[9],F=r[13],X=r[2],Y=r[6],Z=r[10],b=r[14],A=r[3],C=r[7],S=r[11],T=r[15];return s[0]=i*p+o*E+a*X+h*A,s[4]=i*g+o*R+a*Y+h*C,s[8]=i*k+o*V+a*Z+h*S,s[12]=i*w+o*F+a*b+h*T,s[1]=m*p+l*E+u*X+c*A,s[5]=m*g+l*R+u*Y+c*C,s[9]=m*k+l*V+u*Z+c*S,s[13]=m*w+l*F+u*b+c*T,s[2]=_*p+f*E+x*X+v*A,s[6]=_*g+f*R+x*Y+v*C,s[10]=_*k+f*V+x*Z+v*S,s[14]=_*w+f*F+x*b+v*T,s[3]=M*p+y*E+z*X+d*A,s[7]=M*g+y*R+z*Y+d*C,s[11]=M*k+y*V+z*Z+d*S,s[15]=M*w+y*F+z*b+d*T,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],s=t[12],i=t[1],o=t[5],a=t[9],h=t[13],m=t[2],l=t[6],u=t[10],c=t[14];return t[3]*(+s*a*l-r*h*l-s*o*u+n*h*u+r*o*c-n*a*c)+t[7]*(+e*a*c-e*h*u+s*i*u-r*i*c+r*h*m-s*a*m)+t[11]*(+e*h*l-e*o*c-s*i*l+n*i*c+s*o*m-n*h*m)+t[15]*(-r*o*m-e*a*l+e*o*u+r*i*l-n*i*u+n*a*m)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,n){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this},getInverse:function(t,e){void 0!==e&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var n=this.elements,r=t.elements,s=r[0],i=r[1],o=r[2],a=r[3],h=r[4],m=r[5],l=r[6],u=r[7],c=r[8],_=r[9],f=r[10],x=r[11],v=r[12],M=r[13],y=r[14],z=r[15],d=_*y*u-M*f*u+M*l*x-m*y*x-_*l*z+m*f*z,p=v*f*u-c*y*u-v*l*x+h*y*x+c*l*z-h*f*z,g=c*M*u-v*_*u+v*m*x-h*M*x-c*m*z+h*_*z,k=v*_*l-c*M*l-v*m*f+h*M*f+c*m*y-h*_*y,w=s*d+i*p+o*g+a*k;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var E=1/w;return n[0]=d*E,n[1]=(M*f*a-_*y*a-M*o*x+i*y*x+_*o*z-i*f*z)*E,n[2]=(m*y*a-M*l*a+M*o*u-i*y*u-m*o*z+i*l*z)*E,n[3]=(_*l*a-m*f*a-_*o*u+i*f*u+m*o*x-i*l*x)*E,n[4]=p*E,n[5]=(c*y*a-v*f*a+v*o*x-s*y*x-c*o*z+s*f*z)*E,n[6]=(v*l*a-h*y*a-v*o*u+s*y*u+h*o*z-s*l*z)*E,n[7]=(h*f*a-c*l*a+c*o*u-s*f*u-h*o*x+s*l*x)*E,n[8]=g*E,n[9]=(v*_*a-c*M*a-v*i*x+s*M*x+c*i*z-s*_*z)*E,n[10]=(h*M*a-v*m*a+v*i*u-s*M*u-h*i*z+s*m*z)*E,n[11]=(c*m*a-h*_*a-c*i*u+s*_*u+h*i*x-s*m*x)*E,n[12]=k*E,n[13]=(c*M*o-v*_*o+v*i*f-s*M*f-c*i*y+s*_*y)*E,n[14]=(v*m*o-h*M*o-v*i*l+s*M*l+h*i*y-s*m*y)*E,n[15]=(h*_*o-c*m*o+c*i*l-s*_*l-h*i*f+s*m*f)*E,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,s=t.z;return e[0]*=n,e[4]*=r,e[8]*=s,e[1]*=n,e[5]*=r,e[9]*=s,e[2]*=n,e[6]*=r,e[10]*=s,e[3]*=n,e[7]*=r,e[11]*=s,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),s=1-n,i=t.x,o=t.y,a=t.z,h=s*i,m=s*o;return this.set(h*i+n,h*o-r*a,h*a+r*o,0,h*o+r*a,m*o+n,m*a-r*i,0,h*a-r*o,m*a+r*i,s*a*a+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var r=this.elements,s=e._x,i=e._y,o=e._z,a=e._w,h=s+s,m=i+i,l=o+o,u=s*h,c=s*m,_=s*l,f=i*m,x=i*l,v=o*l,M=a*h,y=a*m,z=a*l,d=n.x,p=n.y,g=n.z;return r[0]=(1-(f+v))*d,r[1]=(c+z)*d,r[2]=(_-y)*d,r[3]=0,r[4]=(c-z)*p,r[5]=(1-(u+v))*p,r[6]=(x+M)*p,r[7]=0,r[8]=(_+y)*g,r[9]=(x-M)*g,r[10]=(1-(u+f))*g,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:function(t,e,n){var r=this.elements,s=_v1.set(r[0],r[1],r[2]).length(),i=_v1.set(r[4],r[5],r[6]).length(),o=_v1.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],_m1.copy(this);var a=1/s,h=1/i,m=1/o;return _m1.elements[0]*=a,_m1.elements[1]*=a,_m1.elements[2]*=a,_m1.elements[4]*=h,_m1.elements[5]*=h,_m1.elements[6]*=h,_m1.elements[8]*=m,_m1.elements[9]*=m,_m1.elements[10]*=m,e.setFromRotationMatrix(_m1),n.x=s,n.y=i,n.z=o,this},makePerspective:function(t,e,n,r,s,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,a=2*s/(e-t),h=2*s/(n-r),m=(e+t)/(e-t),l=(n+r)/(n-r),u=-(i+s)/(i-s),c=-2*i*s/(i-s);return o[0]=a,o[4]=0,o[8]=m,o[12]=0,o[1]=0,o[5]=h,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=c,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,n,r,s,i){var o=this.elements,a=1/(e-t),h=1/(n-r),m=1/(i-s),l=(e+t)*a,u=(n+r)*h,c=(i+s)*m;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-l,o[1]=0,o[5]=2*h,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*m,o[14]=-c,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}});export{Matrix4};
//# sourceMappingURL=/sm/f1a7fe0909f56968832b3ecdca0e938742eb9a292db9db5546db549c57a1eec9.map