/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/animation/AnimationObjectGroup.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{PropertyBinding}from"./PropertyBinding.js";import{MathUtils}from"../math/MathUtils.js";function AnimationObjectGroup(){this.uuid=MathUtils.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var i=0,e=arguments.length;i!==e;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var s=this;this.stats={objects:{get total(){return s._objects.length},get inUse(){return this.total-s.nCachedObjects_}},get bindingsPerObject(){return s._bindings.length}}}Object.assign(AnimationObjectGroup.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,i=t.length,e=this.nCachedObjects_,s=this._indicesByUUID,n=this._paths,r=this._parsedPaths,h=this._bindings,a=h.length,o=void 0,c=0,d=arguments.length;c!==d;++c){var u=arguments[c],p=u.uuid,b=s[p];if(void 0===b){b=i++,s[p]=b,t.push(u);for(var _=0,g=a;_!==g;++_)h[_].push(new PropertyBinding(u,n[_],r[_]))}else if(b<e){o=t[b];var v=--e,l=t[v];s[l.uuid]=b,t[b]=l,s[p]=v,t[v]=u;for(_=0,g=a;_!==g;++_){var f=h[_],j=f[v],y=f[b];f[b]=j,void 0===y&&(y=new PropertyBinding(u,n[_],r[_])),f[v]=y}}else t[b]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=e},remove:function(){for(var t=this._objects,i=this.nCachedObjects_,e=this._indicesByUUID,s=this._bindings,n=s.length,r=0,h=arguments.length;r!==h;++r){var a=arguments[r],o=a.uuid,c=e[o];if(void 0!==c&&c>=i){var d=i++,u=t[d];e[u.uuid]=c,t[c]=u,e[o]=d,t[d]=a;for(var p=0,b=n;p!==b;++p){var _=s[p],g=_[d],v=_[c];_[c]=g,_[d]=v}}}this.nCachedObjects_=i},uncache:function(){for(var t=this._objects,i=t.length,e=this.nCachedObjects_,s=this._indicesByUUID,n=this._bindings,r=n.length,h=0,a=arguments.length;h!==a;++h){var o=arguments[h].uuid,c=s[o];if(void 0!==c)if(delete s[o],c<e){var d=--e,u=t[d],p=t[l=--i];s[u.uuid]=c,t[c]=u,s[p.uuid]=d,t[d]=p,t.pop();for(var b=0,_=r;b!==_;++b){var g=(f=n[b])[d],v=f[l];f[c]=g,f[d]=v,f.pop()}}else{var l;s[(p=t[l=--i]).uuid]=c,t[c]=p,t.pop();for(b=0,_=r;b!==_;++b){var f;(f=n[b])[c]=f[l],f.pop()}}}this.nCachedObjects_=e},subscribe_:function(t,i){var e=this._bindingsIndicesByPath,s=e[t],n=this._bindings;if(void 0!==s)return n[s];var r=this._paths,h=this._parsedPaths,a=this._objects,o=a.length,c=this.nCachedObjects_,d=new Array(o);s=n.length,e[t]=s,r.push(t),h.push(i),n.push(d);for(var u=c,p=a.length;u!==p;++u){var b=a[u];d[u]=new PropertyBinding(b,t,i)}return d},unsubscribe_:function(t){var i=this._bindingsIndicesByPath,e=i[t];if(void 0!==e){var s=this._paths,n=this._parsedPaths,r=this._bindings,h=r.length-1,a=r[h];i[t[h]]=e,r[e]=a,r.pop(),n[e]=n[h],n.pop(),s[e]=s[h],s.pop()}}});export{AnimationObjectGroup};
//# sourceMappingURL=/sm/4e1b2b478f48bc2df6eda3cb76780dd67a2ffcae543c4f07fb1d24bbb63a0e2b.map