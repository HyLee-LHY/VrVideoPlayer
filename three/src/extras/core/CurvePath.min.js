/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/extras/core/CurvePath.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Curve}from"./Curve.js";import*as Curves from"../curves/Curves.js";function CurvePath(){Curve.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}CurvePath.prototype=Object.assign(Object.create(Curve.prototype),{constructor:CurvePath,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Curves.LineCurve(e,t))},getPoint:function(t){for(var e=t*this.getLength(),s=this.getCurveLengths(),r=0;r<s.length;){if(s[r]>=e){var u=s[r]-e,h=this.curves[r],n=h.getLength(),i=0===n?0:1-u/n;return h.getPointAt(i)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,s=0,r=this.curves.length;s<r;s++)e+=this.curves[s].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],s=0;s<=t;s++)e.push(this.getPoint(s/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,s=[],r=0,u=this.curves;r<u.length;r++)for(var h=u[r],n=h&&h.isEllipseCurve?2*t:h&&(h.isLineCurve||h.isLineCurve3)?1:h&&h.isSplineCurve?t*h.points.length:t,i=h.getPoints(n),o=0;o<i.length;o++){var v=i[o];e&&e.equals(v)||(s.push(v),e=v)}return this.autoClose&&s.length>1&&!s[s.length-1].equals(s[0])&&s.push(s[0]),s},copy:function(t){Curve.prototype.copy.call(this,t),this.curves=[];for(var e=0,s=t.curves.length;e<s;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=Curve.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,s=this.curves.length;e<s;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){Curve.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,s=t.curves.length;e<s;e++){var r=t.curves[e];this.curves.push((new Curves[r.type]).fromJSON(r))}return this}});export{CurvePath};
//# sourceMappingURL=/sm/61e69091e3307849c7f31546922125c4e7b97753ea271452de891fe463e5b83d.map