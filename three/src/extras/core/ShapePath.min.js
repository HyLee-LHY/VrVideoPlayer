/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/extras/core/ShapePath.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Color}from"../../math/Color.js";import{Path}from"./Path.js";import{Shape}from"./Shape.js";import{ShapeUtils}from"../ShapeUtils.js";function ShapePath(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}Object.assign(ShapePath.prototype,{moveTo:function(t,r){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,r),this},lineTo:function(t,r){return this.currentPath.lineTo(t,r),this},quadraticCurveTo:function(t,r,e,h){return this.currentPath.quadraticCurveTo(t,r,e,h),this},bezierCurveTo:function(t,r,e,h,n,i){return this.currentPath.bezierCurveTo(t,r,e,h,n,i),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,r){function e(t){for(var r=[],e=0,h=t.length;e<h;e++){var n=t[e],i=new Shape;i.curves=n.curves,r.push(i)}return r}function h(t,r){for(var e=r.length,h=!1,n=e-1,i=0;i<e;n=i++){var s=r[n],u=r[i],o=u.x-s.x,a=u.y-s.y;if(Math.abs(a)>Number.EPSILON){if(a<0&&(s=r[i],o=-o,u=r[n],a=-a),t.y<s.y||t.y>u.y)continue;if(t.y===s.y){if(t.x===s.x)return!0}else{var f=a*(t.x-s.x)-o*(t.y-s.y);if(0===f)return!0;if(f<0)continue;h=!h}}else{if(t.y!==s.y)continue;if(u.x<=t.x&&t.x<=s.x||s.x<=t.x&&t.x<=u.x)return!0}}return h}var n=ShapeUtils.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===r)return e(i);var s,u,o,a=[];if(1===i.length)return u=i[0],(o=new Shape).curves=u.curves,a.push(o),a;var f=!n(i[0].getPoints());f=t?!f:f;var p,c,l=[],v=[],P=[],g=0;v[g]=void 0,P[g]=[];for(var x=0,y=i.length;x<y;x++)s=n(p=(u=i[x]).getPoints()),(s=t?!s:s)?(!f&&v[g]&&g++,v[g]={s:new Shape,p:p},v[g].s.curves=u.curves,f&&g++,P[g]=[]):P[g].push({h:u,p:p[0]});if(!v[0])return e(i);if(v.length>1){for(var S=!1,m=[],T=0,b=v.length;T<b;T++)l[T]=[];for(T=0,b=v.length;T<b;T++)for(var C=P[T],j=0;j<C.length;j++){for(var w=C[j],d=!0,U=0;U<v.length;U++)h(w.p,v[U].p)&&(T!==U&&m.push({froms:T,tos:U,hole:j}),d?(d=!1,l[U].push(w)):S=!0);d&&l[T].push(w)}m.length>0&&(S||(P=l))}x=0;for(var q=v.length;x<q;x++){o=v[x].s,a.push(o);for(var z=0,N=(c=P[x]).length;z<N;z++)o.holes.push(c[z].h)}return a}});export{ShapePath};
//# sourceMappingURL=/sm/40a54f0364393cc070dd347809262878e574f5aa93a8cb650aafb9219c7194f8.map