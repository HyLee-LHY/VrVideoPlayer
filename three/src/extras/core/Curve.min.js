/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/extras/core/Curve.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{MathUtils}from"../../math/MathUtils.js";import{Vector2}from"../../math/Vector2.js";import{Vector3}from"../../math/Vector3.js";import{Matrix4}from"../../math/Matrix4.js";function Curve(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Curve.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)o+=(e=this.getPoint(n/t)).distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var s,a=0,c=o-1;a<=c;)if((s=r[i=Math.floor(a+(c-a)/2)]-n)<0)a=i+1;else{if(!(s>0)){c=i;break}c=i-1}if(r[i=c]===n)return i/(o-1);var h=r[i];return(i+(n-h)/(r[i+1]-h))/(o-1)},getTangent:function(t,e){var n=t-1e-4,r=t+1e-4;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),o=this.getPoint(r),s=e||(i.isVector2?new Vector2:new Vector3);return s.copy(o).sub(i).normalize(),s},getTangentAt:function(t,e){var n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){var n,r,i,o=new Vector3,s=[],a=[],c=[],h=new Vector3,g=new Matrix4;for(n=0;n<=t;n++)r=n/t,s[n]=this.getTangentAt(r,new Vector3),s[n].normalize();a[0]=new Vector3,c[0]=new Vector3;var u=Number.MAX_VALUE,p=Math.abs(s[0].x),f=Math.abs(s[0].y),m=Math.abs(s[0].z);for(p<=u&&(u=p,o.set(1,0,0)),f<=u&&(u=f,o.set(0,1,0)),m<=u&&o.set(0,0,1),h.crossVectors(s[0],o).normalize(),a[0].crossVectors(s[0],h),c[0].crossVectors(s[0],a[0]),n=1;n<=t;n++)a[n]=a[n-1].clone(),c[n]=c[n-1].clone(),h.crossVectors(s[n-1],s[n]),h.length()>Number.EPSILON&&(h.normalize(),i=Math.acos(MathUtils.clamp(s[n-1].dot(s[n]),-1,1)),a[n].applyMatrix4(g.makeRotationAxis(h,i))),c[n].crossVectors(s[n],a[n]);if(!0===e)for(i=Math.acos(MathUtils.clamp(a[0].dot(a[t]),-1,1)),i/=t,s[0].dot(h.crossVectors(a[0],a[t]))>0&&(i=-i),n=1;n<=t;n++)a[n].applyMatrix4(g.makeRotationAxis(s[n],i*n)),c[n].crossVectors(s[n],a[n]);return{tangents:s,normals:a,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}});export{Curve};
//# sourceMappingURL=/sm/7eb0c492703c308dcc8bfc3322b0e469b4b87fd0630477caa1adc1f448280334.map