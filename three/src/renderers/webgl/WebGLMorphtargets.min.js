/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/renderers/webgl/WebGLMorphtargets.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function absNumericalSort(r,t){return Math.abs(t[1])-Math.abs(r[1])}function WebGLMorphtargets(r){var t={},e=new Float32Array(8);return{update:function(o,a,i,n){var s=o.morphTargetInfluences,m=void 0===s?0:s.length,u=t[a.id];if(void 0===u){u=[];for(var h=0;h<m;h++)u[h]=[h,0];t[a.id]=u}var p=i.morphTargets&&a.morphAttributes.position,l=i.morphNormals&&a.morphAttributes.normal;for(h=0;h<m;h++)0!==(b=u[h])[1]&&(p&&a.deleteAttribute("morphTarget"+h),l&&a.deleteAttribute("morphNormal"+h));for(h=0;h<m;h++)(b=u[h])[0]=h,b[1]=s[h];u.sort(absNumericalSort);var f=0;for(h=0;h<8;h++){var b;if(b=u[h]){var g=b[0],v=b[1];if(v){p&&a.setAttribute("morphTarget"+h,p[g]),l&&a.setAttribute("morphNormal"+h,l[g]),e[h]=v,f+=v;continue}}e[h]=0}var c=a.morphTargetsRelative?1:1-f;n.getUniforms().setValue(r,"morphTargetBaseInfluence",c),n.getUniforms().setValue(r,"morphTargetInfluences",e)}}}export{WebGLMorphtargets};
//# sourceMappingURL=/sm/23cc97a096b534ec0d37117f5406d3bbb628dfcc154d9c17b836b8eb4c13c6c1.map