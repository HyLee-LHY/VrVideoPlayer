/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/renderers/webgl/WebGLMaterials.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{BackSide}from"../../constants.js";function WebGLMaterials(a){function e(e,l,p){e.opacity.value=l.opacity,l.color&&e.diffuse.value.copy(l.color),l.emissive&&e.emissive.value.copy(l.emissive).multiplyScalar(l.emissiveIntensity),l.map&&(e.map.value=l.map),l.alphaMap&&(e.alphaMap.value=l.alphaMap),l.specularMap&&(e.specularMap.value=l.specularMap);var i,s,c=l.envMap||p;c&&(e.envMap.value=c,e.flipEnvMap.value=c.isCubeTexture?-1:1,e.reflectivity.value=l.reflectivity,e.refractionRatio.value=l.refractionRatio,e.maxMipLevel.value=a.get(c).__maxMipLevel),l.lightMap&&(e.lightMap.value=l.lightMap,e.lightMapIntensity.value=l.lightMapIntensity),l.aoMap&&(e.aoMap.value=l.aoMap,e.aoMapIntensity.value=l.aoMapIntensity),l.map?i=l.map:l.specularMap?i=l.specularMap:l.displacementMap?i=l.displacementMap:l.normalMap?i=l.normalMap:l.bumpMap?i=l.bumpMap:l.roughnessMap?i=l.roughnessMap:l.metalnessMap?i=l.metalnessMap:l.alphaMap?i=l.alphaMap:l.emissiveMap&&(i=l.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix)),l.aoMap?s=l.aoMap:l.lightMap&&(s=l.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),e.uv2Transform.value.copy(s.matrix))}function l(a,e,l){a.roughness.value=e.roughness,a.metalness.value=e.metalness,e.roughnessMap&&(a.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(a.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(a.emissiveMap.value=e.emissiveMap),e.bumpMap&&(a.bumpMap.value=e.bumpMap,a.bumpScale.value=e.bumpScale,e.side===BackSide&&(a.bumpScale.value*=-1)),e.normalMap&&(a.normalMap.value=e.normalMap,a.normalScale.value.copy(e.normalScale),e.side===BackSide&&a.normalScale.value.negate()),e.displacementMap&&(a.displacementMap.value=e.displacementMap,a.displacementScale.value=e.displacementScale,a.displacementBias.value=e.displacementBias),(e.envMap||l)&&(a.envMapIntensity.value=e.envMapIntensity)}return{refreshFogUniforms:function(a,e){a.fogColor.value.copy(e.color),e.isFog?(a.fogNear.value=e.near,a.fogFar.value=e.far):e.isFogExp2&&(a.fogDensity.value=e.density)},refreshMaterialUniforms:function(a,p,i,s,c){p.isMeshBasicMaterial?e(a,p):p.isMeshLambertMaterial?(e(a,p),function(a,e){e.emissiveMap&&(a.emissiveMap.value=e.emissiveMap)}(a,p)):p.isMeshToonMaterial?(e(a,p),function(a,e){a.specular.value.copy(e.specular),a.shininess.value=Math.max(e.shininess,1e-4),e.gradientMap&&(a.gradientMap.value=e.gradientMap),e.emissiveMap&&(a.emissiveMap.value=e.emissiveMap),e.bumpMap&&(a.bumpMap.value=e.bumpMap,a.bumpScale.value=e.bumpScale,e.side===BackSide&&(a.bumpScale.value*=-1)),e.normalMap&&(a.normalMap.value=e.normalMap,a.normalScale.value.copy(e.normalScale),e.side===BackSide&&a.normalScale.value.negate()),e.displacementMap&&(a.displacementMap.value=e.displacementMap,a.displacementScale.value=e.displacementScale,a.displacementBias.value=e.displacementBias)}(a,p)):p.isMeshPhongMaterial?(e(a,p),function(a,e){a.specular.value.copy(e.specular),a.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(a.emissiveMap.value=e.emissiveMap),e.bumpMap&&(a.bumpMap.value=e.bumpMap,a.bumpScale.value=e.bumpScale,e.side===BackSide&&(a.bumpScale.value*=-1)),e.normalMap&&(a.normalMap.value=e.normalMap,a.normalScale.value.copy(e.normalScale),e.side===BackSide&&a.normalScale.value.negate()),e.displacementMap&&(a.displacementMap.value=e.displacementMap,a.displacementScale.value=e.displacementScale,a.displacementBias.value=e.displacementBias)}(a,p)):p.isMeshStandardMaterial?(e(a,p,i),p.isMeshPhysicalMaterial?function(a,e,p){l(a,e,p),a.reflectivity.value=e.reflectivity,a.clearcoat.value=e.clearcoat,a.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&a.sheen.value.copy(e.sheen),e.clearcoatMap&&(a.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(a.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(a.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),a.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===BackSide&&a.clearcoatNormalScale.value.negate()),a.transparency.value=e.transparency}(a,p,i):l(a,p,i)):p.isMeshMatcapMaterial?(e(a,p),function(a,e){e.matcap&&(a.matcap.value=e.matcap),e.bumpMap&&(a.bumpMap.value=e.bumpMap,a.bumpScale.value=e.bumpScale,e.side===BackSide&&(a.bumpScale.value*=-1)),e.normalMap&&(a.normalMap.value=e.normalMap,a.normalScale.value.copy(e.normalScale),e.side===BackSide&&a.normalScale.value.negate()),e.displacementMap&&(a.displacementMap.value=e.displacementMap,a.displacementScale.value=e.displacementScale,a.displacementBias.value=e.displacementBias)}(a,p)):p.isMeshDepthMaterial?(e(a,p),function(a,e){e.displacementMap&&(a.displacementMap.value=e.displacementMap,a.displacementScale.value=e.displacementScale,a.displacementBias.value=e.displacementBias)}(a,p)):p.isMeshDistanceMaterial?(e(a,p),function(a,e){e.displacementMap&&(a.displacementMap.value=e.displacementMap,a.displacementScale.value=e.displacementScale,a.displacementBias.value=e.displacementBias),a.referencePosition.value.copy(e.referencePosition),a.nearDistance.value=e.nearDistance,a.farDistance.value=e.farDistance}(a,p)):p.isMeshNormalMaterial?(e(a,p),function(a,e){e.bumpMap&&(a.bumpMap.value=e.bumpMap,a.bumpScale.value=e.bumpScale,e.side===BackSide&&(a.bumpScale.value*=-1)),e.normalMap&&(a.normalMap.value=e.normalMap,a.normalScale.value.copy(e.normalScale),e.side===BackSide&&a.normalScale.value.negate()),e.displacementMap&&(a.displacementMap.value=e.displacementMap,a.displacementScale.value=e.displacementScale,a.displacementBias.value=e.displacementBias)}(a,p)):p.isLineBasicMaterial?(function(a,e){a.diffuse.value.copy(e.color),a.opacity.value=e.opacity}(a,p),p.isLineDashedMaterial&&function(a,e){a.dashSize.value=e.dashSize,a.totalSize.value=e.dashSize+e.gapSize,a.scale.value=e.scale}(a,p)):p.isPointsMaterial?function(a,e,l,p){var i;a.diffuse.value.copy(e.color),a.opacity.value=e.opacity,a.size.value=e.size*l,a.scale.value=.5*p,e.map&&(a.map.value=e.map),e.alphaMap&&(a.alphaMap.value=e.alphaMap),e.map?i=e.map:e.alphaMap&&(i=e.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),a.uvTransform.value.copy(i.matrix))}(a,p,s,c):p.isSpriteMaterial?function(a,e){var l;a.diffuse.value.copy(e.color),a.opacity.value=e.opacity,a.rotation.value=e.rotation,e.map&&(a.map.value=e.map),e.alphaMap&&(a.alphaMap.value=e.alphaMap),e.map?l=e.map:e.alphaMap&&(l=e.alphaMap),void 0!==l&&(!0===l.matrixAutoUpdate&&l.updateMatrix(),a.uvTransform.value.copy(l.matrix))}(a,p):p.isShadowMaterial?(a.color.value.copy(p.color),a.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}}}export{WebGLMaterials};
//# sourceMappingURL=/sm/1122977f6adf2c0c5880e5356836b15bbeb10130cb86655d7c3b3892240d2a3a.map