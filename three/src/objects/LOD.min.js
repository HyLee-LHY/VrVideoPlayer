/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/objects/LOD.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Vector3}from"../math/Vector3.js";import{Object3D}from"../core/Object3D.js";var _v1=new Vector3,_v2=new Vector3;function LOD(){Object3D.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}LOD.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:LOD,isLOD:!0,copy:function(t){Object3D.prototype.copy.call(this,t,!1);for(var e=t.levels,o=0,r=e.length;o<r;o++){var i=e[o];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var o=this.levels,r=0;r<o.length&&!(e<o[r].distance);r++);return o.splice(r,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){var e=this.levels;if(e.length>0){for(var o=1,r=e.length;o<r&&!(t<e[o].distance);o++);return e[o-1].object}return null},raycast:function(t,e){if(this.levels.length>0){_v1.setFromMatrixPosition(this.matrixWorld);var o=t.ray.origin.distanceTo(_v1);this.getObjectForDistance(o).raycast(t,e)}},update:function(t){var e=this.levels;if(e.length>1){_v1.setFromMatrixPosition(t.matrixWorld),_v2.setFromMatrixPosition(this.matrixWorld);var o=_v1.distanceTo(_v2)/t.zoom;e[0].object.visible=!0;for(var r=1,i=e.length;r<i&&o>=e[r].distance;r++)e[r-1].object.visible=!1,e[r].object.visible=!0;for(this._currentLevel=r-1;r<i;r++)e[r].object.visible=!1}},toJSON:function(t){var e=Object3D.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];for(var o=this.levels,r=0,i=o.length;r<i;r++){var s=o[r];e.object.levels.push({object:s.object.uuid,distance:s.distance})}return e}});export{LOD};
//# sourceMappingURL=/sm/c1145f6cd7a4473f15e1460d072498c1d13d38fab00d67d684041a79c109ec8c.map