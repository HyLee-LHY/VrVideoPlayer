/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/loaders/ImageBitmapLoader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Cache}from"./Cache.js";import{Loader}from"./Loader.js";function ImageBitmapLoader(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Loader.call(this,t),this.options=void 0}ImageBitmapLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:ImageBitmapLoader,setOptions:function(t){return this.options=t,this},load:function(t,e,a,o){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,r=Cache.get(t);if(void 0!==r)return n.manager.itemStart(t),setTimeout(function(){e&&e(r),n.manager.itemEnd(t)},0),r;fetch(t).then(function(t){return t.blob()}).then(function(t){return void 0===n.options?createImageBitmap(t):createImageBitmap(t,n.options)}).then(function(a){Cache.add(t,a),e&&e(a),n.manager.itemEnd(t)}).catch(function(e){o&&o(e),n.manager.itemError(t),n.manager.itemEnd(t)}),n.manager.itemStart(t)}});export{ImageBitmapLoader};
//# sourceMappingURL=/sm/5045ceab3b06be394629a47d561660f46eef2905a86316a3c3baf45f2e8e8625.map