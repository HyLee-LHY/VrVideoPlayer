/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/three@0.117.1/src/loaders/ImageLoader.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Cache}from"./Cache.js";import{Loader}from"./Loader.js";function ImageLoader(e){Loader.call(this,e)}ImageLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:ImageLoader,load:function(e,r,t,a){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var o=this,i=Cache.get(e);if(void 0!==i)return o.manager.itemStart(e),setTimeout(function(){r&&r(i),o.manager.itemEnd(e)},0),i;var n=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){n.removeEventListener("load",s,!1),n.removeEventListener("error",m,!1),Cache.add(e,this),r&&r(this),o.manager.itemEnd(e)}function m(r){n.removeEventListener("load",s,!1),n.removeEventListener("error",m,!1),a&&a(r),o.manager.itemError(e),o.manager.itemEnd(e)}return n.addEventListener("load",s,!1),n.addEventListener("error",m,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(n.crossOrigin=this.crossOrigin),o.manager.itemStart(e),n.src=e,n}});export{ImageLoader};
//# sourceMappingURL=/sm/cb142e0e484574060d09b8ef2c0e34535ba2f0625f5c5fd7d576f3e36409326f.map